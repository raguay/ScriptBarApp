var app=function(){"use strict";var t={OpenURL:function(t){return window.wails.Browser.OpenURL(t)},OpenFile:function(t){return window.wails.Browser.OpenFile(t)}};function e(t,e,n){window.wails.Events.OnMultiple(t,e,n)}var n={OnMultiple:e,On:function(t,n){e(t,n)},Once:function(t,n){e(t,n,1)},Emit:function(t){var e=[t].slice.call(arguments);return window.wails.Events.Emit.apply(null,e)},Heartbeat:function(t,e,n){window.wails.Events.Heartbeat(t,e,n)},Acknowledge:function(t){return window.wails.Events.Acknowledge(t)}};var o={Log:{Debug:function(t){window.wails.Log.Debug(t)},Info:function(t){window.wails.Log.Info(t)},Warning:function(t){window.wails.Log.Warning(t)},Error:function(t){window.wails.Log.Error(t)},Fatal:function(t){window.wails.Log.Fatal(t)}},Browser:t,Events:n,Init:function(t){window.wails._.Init(t)},Store:{New:function(t,e){return window.wails.Store.New(t,e)}}};function r(){}function i(t){return t()}function s(){return Object.create(null)}function a(t){t.forEach(i)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return r;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function p(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function b(){return y("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function C(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function $(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function B(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}class S{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=m(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)f(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(d)}}let A;function E(t){A=t}function N(){if(!A)throw new Error("Function called outside component initialization");return A}function T(t){N().$$.on_mount.push(t)}function L(){const t=N();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}const I=[],q=[],O=[],j=[],R=Promise.resolve();let P=!1;function M(){P||(P=!0,R.then(H))}function z(){return M(),R}function D(t){O.push(t)}let U=!1;const V=new Set;function H(){if(!U){U=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];E(e),W(e.$$)}for(E(null),I.length=0;q.length;)q.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];V.has(e)||(V.add(e),e())}O.length=0}while(I.length);for(;j.length;)j.pop()();P=!1,U=!1,V.clear()}}function W(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const F=new Set;let J;function X(){J={r:0,c:[],p:J}}function Y(){J.r||a(J.c),J=J.p}function K(t,e){t&&t.i&&(F.delete(t),t.i(e))}function G(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),J.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function Z(t){t&&t.c()}function Q(t,e,n,o){const{fragment:r,on_mount:s,on_destroy:l,after_update:u}=t.$$;r&&r.m(e,n),o||D((()=>{const e=s.map(i).filter(c);l?l.push(...e):a(e),t.$$.on_mount=[]})),u.forEach(D)}function tt(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e,n,o,i,c,l,u=[-1]){const p=A;E(t);const h=t.$$={fragment:null,ctx:null,props:c,update:r,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};l&&l(h.root);let f=!1;if(h.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&i(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),f&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),M(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],h.update(),f=!0,a(h.before_update),h.fragment=!!o&&o(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(d)}else h.fragment&&h.fragment.c();e.intro&&K(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),H()}E(p)}class nt{$destroy(){tt(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function it(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})})),e}function st(t){var e={exports:{}};return t(e,e.exports),e.exports}var at=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ct=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],lt=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var r=at.exec(t||""),i={},s=14;s--;)i[ct[s]]=r[s]||"";return-1!=n&&-1!=o&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i},ut=1e3,pt=6e4,ht=60*pt,ft=24*ht,dt=365.25*ft,gt=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*dt;case"days":case"day":case"d":return n*ft;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ht;case"minutes":case"minute":case"mins":case"min":case"m":return n*pt;case"seconds":case"second":case"secs":case"sec":case"s":return n*ut;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return mt(t,ft,"day")||mt(t,ht,"hour")||mt(t,pt,"minute")||mt(t,ut,"second")||t+" ms"}(t):function(t){if(t>=ft)return Math.round(t/ft)+"d";if(t>=ht)return Math.round(t/ht)+"h";if(t>=pt)return Math.round(t/pt)+"m";if(t>=ut)return Math.round(t/ut)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function mt(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var yt=st((function(t,e){(e=t.exports=i.debug=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=gt,e.names=[],e.skips=[],e.formatters={};var n,o=0;function r(){return e.colors[o++%e.colors.length]}function i(t){function o(){}function i(){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var l=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,o){if("%%"===n)return n;l++;var r=e.formatters[o];if("function"==typeof r){var i=a[l];n=r.call(t,i),a.splice(l,1),l--}return n})),a=e.formatArgs.apply(t,a);var u=i.log||e.log||console.log.bind(console);u.apply(t,a)}o.enabled=!1,i.enabled=!0;var s=e.enabled(t)?i:o;return s.namespace=t,s}})),vt=st((function(t,e){function n(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof process&&"env"in process)return process.env.DEBUG}(e=t.exports=yt).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var o="color: "+this.color;t=[t[0],o,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),t.splice(i,0,o),t},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())})),bt=vt("socket.io-client:url"),wt=function(t,e){var n=t;e=e||ot.location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(bt("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),bt("parse %s",t),n=lt(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n};var xt=1e3,kt=6e4,_t=60*kt,Ct=24*_t,$t=365.25*Ct,Bt=function(t,e){return e=e||{},"string"==typeof t?function(t){if((t=""+t).length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*$t;case"days":case"day":case"d":return n*Ct;case"hours":case"hour":case"hrs":case"hr":case"h":return n*_t;case"minutes":case"minute":case"mins":case"min":case"m":return n*kt;case"seconds":case"second":case"secs":case"sec":case"s":return n*xt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}(t):e.long?function(t){return St(t,Ct,"day")||St(t,_t,"hour")||St(t,kt,"minute")||St(t,xt,"second")||t+" ms"}(t):function(t){return t>=Ct?Math.round(t/Ct)+"d":t>=_t?Math.round(t/_t)+"h":t>=kt?Math.round(t/kt)+"m":t>=xt?Math.round(t/xt)+"s":t+"ms"}(t)};function St(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var At=st((function(t,e){e=t.exports=function(t){function o(){}function i(){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,o){if("%%"===n)return n;c++;var r=e.formatters[o];if("function"==typeof r){var i=a[c];n=r.call(t,i),a.splice(c,1),c--}return n})),"function"==typeof e.formatArgs&&(a=e.formatArgs.apply(t,a));var l=i.log||e.log||console.log.bind(console);l.apply(t,a)}o.enabled=!1,i.enabled=!0;var s=e.enabled(t)?i:o;return s.namespace=t,s},e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Bt,e.names=[],e.skips=[],e.formatters={};var n,o=0;function r(){return e.colors[o++%e.colors.length]}})),Et=st((function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return t}(e=t.exports=At).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var o="color: "+this.color;t=[t[0],o,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),t.splice(i,0,o),t},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(n())})),Nt=st((function(t,e){(function(){var n={function:!0,object:!0},o=e&&!e.nodeType&&e,r=n[typeof window]&&window||this,i=o&&n.object&&t&&!t.nodeType&&"object"==typeof ot&&ot;function s(t,e){t||(t=r.Object()),e||(e=r.Object());var o=t.Number||r.Number,i=t.String||r.String,a=t.Object||r.Object,c=t.Date||r.Date,l=t.SyntaxError||r.SyntaxError,u=t.TypeError||r.TypeError,p=t.Math||r.Math,h=t.JSON||r.JSON;"object"==typeof h&&h&&(e.stringify=h.stringify,e.parse=h.parse);var f,d,g,m=a.prototype,y=m.toString,v=new c(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}function b(t){if(b[t]!==g)return b[t];var n;if("bug-string-char-index"==t)n="a"!="a"[0];else if("json"==t)n=b("json-stringify")&&b("json-parse");else{var r,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=e.stringify,l="function"==typeof a&&v;if(l){(r=function(){return 1}).toJSON=r;try{l="0"===a(0)&&"0"===a(new o)&&'""'==a(new i)&&a(y)===g&&a(g)===g&&a()===g&&"1"===a(r)&&"[1]"==a([r])&&"[null]"==a([g])&&"null"==a(null)&&"[null,null,null]"==a([g,y,null])&&a({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===a(null,r)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new c(-1))}catch(t){l=!1}}n=l}if("json-parse"==t){var u=e.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){var p=5==(r=u(s)).a.length&&1===r.a[0];if(p){try{p=!u('"\t"')}catch(t){}if(p)try{p=1!==u("01")}catch(t){}if(p)try{p=1!==u("1.")}catch(t){}}}}catch(t){p=!1}n=p}}return b[t]=!!n}if(!b("json")){var w="[object Function]",x="[object Number]",k="[object String]",_="[object Array]",C=b("bug-string-char-index");if(!v)var $=p.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],S=function(t,e){return B[e]+365*(t-1970)+$((t-1969+(e=+(e>1)))/4)-$((t-1901+e)/100)+$((t-1601+e)/400)};if((f=m.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),d=function(t,e){var o,r,i,s=0;for(i in(o=function(){this.valueOf=0}).prototype.valueOf=0,r=new o)f.call(r,i)&&s++;return o=r=null,s?d=2==s?function(t,e){var n,o={},r=y.call(t)==w;for(n in t)r&&"prototype"==n||f.call(o,n)||!(o[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,o,r=y.call(t)==w;for(n in t)r&&"prototype"==n||!f.call(t,n)||(o="constructor"===n)||e(n);(o||f.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],d=function(t,e){var o,i,s=y.call(t)==w,a=!s&&"function"!=typeof t.constructor&&n[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(o in t)s&&"prototype"==o||!a.call(t,o)||e(o);for(i=r.length;o=r[--i];a.call(t,o)&&e(o));}),d(t,e)},!b("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(t,e){return("000000"+(e||0)).slice(-t)},N=function(t){for(var e='"',n=0,o=t.length,r=!C||o>10,i=r&&(C?t.split(""):t);n<o;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=A[s];break;default:if(s<32){e+="\\u00"+E(2,s.toString(16));break}e+=r?i[n]:t.charAt(n)}}return e+'"'},T=function(t,e,n,o,r,i,s){var a,c,l,p,h,m,v,b,w,C,B,A,L,I,q,O;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=y.call(a))||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=x&&c!=k&&c!=_||f.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(S){for(h=$(a/864e5),l=$(h/365.2425)+1970-1;S(l+1,0)<=h;l++);for(p=$((h-S(l,0))/30.42);S(l,p+1)<=h;p++);h=1+h-S(l,p),v=$((m=(a%864e5+864e5)%864e5)/36e5)%24,b=$(m/6e4)%60,w=$(m/1e3)%60,C=m%1e3}else l=a.getUTCFullYear(),p=a.getUTCMonth(),h=a.getUTCDate(),v=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),C=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+E(6,l<0?-l:l):E(4,l))+"-"+E(2,p+1)+"-"+E(2,h)+"T"+E(2,v)+":"+E(2,b)+":"+E(2,w)+"."+E(3,C)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=y.call(a)))return""+a;if(c==x)return a>-1/0&&a<1/0?""+a:"null";if(c==k)return N(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw u();if(s.push(a),B=[],q=i,i+=r,c==_){for(L=0,I=a.length;L<I;L++)A=T(L,a,n,o,r,i,s),B.push(A===g?"null":A);O=B.length?r?"[\n"+i+B.join(",\n"+i)+"\n"+q+"]":"["+B.join(",")+"]":"[]"}else d(o||a,(function(t){var e=T(t,a,n,o,r,i,s);e!==g&&B.push(N(t)+":"+(r?" ":"")+e)})),O=B.length?r?"{\n"+i+B.join(",\n"+i)+"\n"+q+"}":"{"+B.join(",")+"}":"{}";return s.pop(),O}};e.stringify=function(t,e,o){var r,i,s,a;if(n[typeof e]&&e)if((a=y.call(e))==w)i=e;else if(a==_){s={};for(var c,l=0,u=e.length;l<u;c=e[l++],((a=y.call(c))==k||a==x)&&(s[c]=1));}if(o)if((a=y.call(o))==x){if((o-=o%1)>0)for(r="",o>10&&(o=10);r.length<o;r+=" ");}else a==k&&(r=o.length<=10?o:o.slice(0,10));return T("",((c={})[""]=t,c),i,s,r,"",[])}}if(!b("json-parse")){var L,I,q=i.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},j=function(){throw L=I=null,l()},R=function(){for(var t,e,n,o,r,i=I,s=i.length;L<s;)switch(r=i.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=C?i.charAt(L):i[L],L++,t;case 34:for(t="@",L++;L<s;)if((r=i.charCodeAt(L))<32)j();else if(92==r)switch(r=i.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=O[r],L++;break;case 117:for(e=++L,n=L+4;L<n;L++)(r=i.charCodeAt(L))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||j();t+=q("0x"+i.slice(e,L));break;default:j()}else{if(34==r)break;for(r=i.charCodeAt(L),e=L;r>=32&&92!=r&&34!=r;)r=i.charCodeAt(++L);t+=i.slice(e,L)}if(34==i.charCodeAt(L))return L++,t;j();default:if(e=L,45==r&&(o=!0,r=i.charCodeAt(++L)),r>=48&&r<=57){for(48==r&&((r=i.charCodeAt(L+1))>=48&&r<=57)&&j(),o=!1;L<s&&((r=i.charCodeAt(L))>=48&&r<=57);L++);if(46==i.charCodeAt(L)){for(n=++L;n<s&&((r=i.charCodeAt(n))>=48&&r<=57);n++);n==L&&j(),L=n}if(101==(r=i.charCodeAt(L))||69==r){for(43!=(r=i.charCodeAt(++L))&&45!=r||L++,n=L;n<s&&((r=i.charCodeAt(n))>=48&&r<=57);n++);n==L&&j(),L=n}return+i.slice(e,L)}if(o&&j(),"true"==i.slice(L,L+4))return L+=4,!0;if("false"==i.slice(L,L+5))return L+=5,!1;if("null"==i.slice(L,L+4))return L+=4,null;j()}return"$"},P=function(t){var e,n;if("$"==t&&j(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=R());n||(n=!0))n&&(","==t?"]"==(t=R())&&j():j()),","==t&&j(),e.push(P(t));return e}if("{"==t){for(e={};"}"!=(t=R());n||(n=!0))n&&(","==t?"}"==(t=R())&&j():j()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==R()||j(),e[t.slice(1)]=P(R());return e}j()}return t},M=function(t,e,n){var o=z(t,e,n);o===g?delete t[e]:t[e]=o},z=function(t,e,n){var o,r=t[e];if("object"==typeof r&&r)if(y.call(r)==_)for(o=r.length;o--;)M(r,o,n);else d(r,(function(t){M(r,t,n)}));return n.call(t,e,r)};e.parse=function(t,e){var n,o;return L=0,I=""+t,n=P(R()),"$"!=R()&&j(),L=I=null,e&&y.call(e)==w?z(((o={})[""]=n,o),"",e):n}}}return e.runInContext=s,e}if(!i||i.global!==i&&i.window!==i&&i.self!==i||(r=i),o)s(r,o);else{var a=r.JSON,c=r.JSON3,l=!1,u=s(r,r.JSON3={noConflict:function(){return l||(l=!0,r.JSON=a,r.JSON3=c,a=c=null),u}});r.JSON={parse:u.parse,stringify:u.stringify}}}).call(ot)})),Tt=Lt;function Lt(t){if(t)return function(t){for(var e in Lt.prototype)t[e]=Lt.prototype[e];return t}(t)}Lt.prototype.on=Lt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Lt.prototype.once=function(t,e){var n=this;function o(){n.off(t,o),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=e,this.on(t,o),this},Lt.prototype.off=Lt.prototype.removeListener=Lt.prototype.removeAllListeners=Lt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[t];if(!o)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return this},Lt.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},Lt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Lt.prototype.hasListeners=function(t){return!!this.listeners(t).length};var It=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},qt=function(t){return ot.Buffer&&ot.Buffer.isBuffer(t)||ot.ArrayBuffer&&t instanceof ArrayBuffer};var Ot=function(t){var e=[],n=t.data;var o=t;return o.data=function t(n){if(!n)return n;if(qt(n)){var o={_placeholder:!0,num:e.length};return e.push(n),o}if(It(n)){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=t(n[i]);return r}if("object"==typeof n&&!(n instanceof Date)){r={};for(var s in n)r[s]=t(n[s]);return r}return n}(n),o.attachments=e.length,{packet:o,buffers:e}},jt=function(t,e){return t.data=function t(n){if(n&&n._placeholder)return e[n.num];if(It(n)){for(var o=0;o<n.length;o++)n[o]=t(n[o]);return n}if(n&&"object"==typeof n){for(var r in n)n[r]=t(n[r]);return n}return n}(t.data),t.attachments=void 0,t},Rt=function(t,e){var n=0,o=t;!function t(r,i,s){if(!r)return r;if(ot.Blob&&r instanceof Blob||ot.File&&r instanceof File){n++;var a=new FileReader;a.onload=function(){s?s[i]=this.result:o=this.result,--n||e(o)},a.readAsArrayBuffer(r)}else if(It(r))for(var c=0;c<r.length;c++)t(r[c],c,r);else if(r&&"object"==typeof r&&!qt(r))for(var l in r)t(r[l],l,r)}(o),n||e(o)},Pt=st((function(t,e){var n=Et("socket.io-parser");function o(){}function r(t){var o="",r=!1;return o+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(o+=t.attachments,o+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,o+=t.nsp),null!=t.id&&(r&&(o+=",",r=!1),o+=t.id),null!=t.data&&(r&&(o+=","),o+=Nt.stringify(t.data)),n("encoded %j as %s",t,o),o}function i(){this.reconstructor=null}function s(t){this.reconPack=t,this.buffers=[]}function a(t){return{type:e.ERROR,data:"parser error"}}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=i,o.prototype.encode=function(t,o){(n("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)?function(t,e){function n(t){var n=Ot(t),o=r(n.packet),i=n.buffers;i.unshift(o),e(i)}Rt(t,n)}(t,o):o([r(t)])},Tt(i.prototype),i.prototype.add=function(t){var o;if("string"==typeof t)o=function(t){var o={},r=0;if(o.type=Number(t.charAt(0)),null==e.types[o.type])return a();if(e.BINARY_EVENT==o.type||e.BINARY_ACK==o.type){for(var i="";"-"!=t.charAt(++r)&&(i+=t.charAt(r),r!=t.length););if(i!=Number(i)||"-"!=t.charAt(r))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"==t.charAt(r+1))for(o.nsp="";++r;){if(","==(c=t.charAt(r)))break;if(o.nsp+=c,r==t.length)break}else o.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(o.id="";++r;){var c;if(null==(c=t.charAt(r))||Number(c)!=c){--r;break}if(o.id+=t.charAt(r),r==t.length)break}o.id=Number(o.id)}t.charAt(++r)&&(o=function(t,e){try{t.data=Nt.parse(e)}catch(t){return a()}return t}(o,t.substr(r)));return n("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT==o.type||e.BINARY_ACK==o.type?(this.reconstructor=new s(o),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",o)):this.emit("decoded",o);else{if(!qt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(o=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",o))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},s.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=jt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},s.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Mt=st((function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}})),zt=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Mt))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(ot[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}},Dt=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var o in t)n.call(t,o)&&e.push(o);return e},Ut=function(t){return function t(e){if(!e)return!1;if(ot.Buffer&&ot.Buffer.isBuffer&&ot.Buffer.isBuffer(e)||ot.ArrayBuffer&&e instanceof ArrayBuffer||ot.Blob&&e instanceof Blob||ot.File&&e instanceof File)return!0;if(It(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e)for(var o in e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0;return!1}(t)};var Vt=function(t,e,n){var o=t.byteLength;if(e=e||0,n=n||o,t.slice)return t.slice(e,n);if(e<0&&(e+=o),n<0&&(n+=o),n>o&&(n=o),e>=o||e>=n||0===o)return new ArrayBuffer(0);for(var r=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=r[s];return i.buffer},Ht=function(t,e,n){var o=!1;return n=n||Wt,r.count=t,0===t?e():r;function r(t,i){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,e(t),e=n):0!==r.count||o||e(null,i)}};function Wt(){}
/*! https://mths.be/wtf8 v1.0.0 by @mathias */var Ft=st((function(t,e){!function(n){var o=e,r=t&&t.exports==o&&t,i="object"==typeof ot&&ot;i.global!==i&&i.window!==i||(n=i);var s,a,c,l=String.fromCharCode;function u(t){for(var e,n,o=[],r=0,i=t.length;r<i;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<i?56320==(64512&(n=t.charCodeAt(r++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--):o.push(e);return o}function p(t,e){return l(t>>e&63|128)}function h(t){if(0==(4294967168&t))return l(t);var e="";return 0==(4294965248&t)?e=l(t>>6&31|192):0==(4294901760&t)?(e=l(t>>12&15|224),e+=p(t,6)):0==(4292870144&t)&&(e=l(t>>18&7|240),e+=p(t,12),e+=p(t,6)),e+=l(63&t|128)}function f(){if(c>=a)throw Error("Invalid byte index");var t=255&s[c];if(c++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(){var t,e;if(c>a)throw Error("Invalid byte index");if(c==a)return!1;if(t=255&s[c],c++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|f())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|f()<<6|f())>=2048)return e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(15&t)<<18|f()<<12|f()<<6|f())>=65536&&e<=1114111)return e;throw Error("Invalid WTF-8 detected")}var g={version:"1.0.0",encode:function(t){for(var e=u(t),n=e.length,o=-1,r="";++o<n;)r+=h(e[o]);return r},decode:function(t){s=u(t),a=s.length,c=0;for(var e,n=[];!1!==(e=d());)n.push(e);return function(t){for(var e,n=t.length,o=-1,r="";++o<n;)(e=t[o])>65535&&(r+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=l(e);return r}(n)}};if(o&&!o.nodeType)if(r)r.exports=g;else{var m={}.hasOwnProperty;for(var y in g)m.call(g,y)&&(o[y]=g[y])}else n.wtf8=g}(ot)})),Jt=st((function(t,e){!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),o=0;o<t.length;o++)n[t.charCodeAt(o)]=o;e.encode=function(e){var n,o=new Uint8Array(e),r=o.length,i="";for(n=0;n<r;n+=3)i+=t[o[n]>>2],i+=t[(3&o[n])<<4|o[n+1]>>4],i+=t[(15&o[n+1])<<2|o[n+2]>>6],i+=t[63&o[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,o,r,i,s,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(e=0;e<c;e+=4)o=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],p[l++]=o<<2|r>>4,p[l++]=(15&r)<<4|i>>2,p[l++]=(3&i)<<6|63&s;return u}}()})),Xt=ot.BlobBuilder||ot.WebKitBlobBuilder||ot.MSBlobBuilder||ot.MozBlobBuilder,Yt=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),Kt=Yt&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),Gt=Xt&&Xt.prototype.append&&Xt.prototype.getBlob;function Zt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=r.buffer}t[e]=o}}}function Qt(t,e){e=e||{};var n=new Xt;Zt(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function te(t,e){return Zt(t),new Blob(t,e||{})}var ee=Yt?Kt?ot.Blob:te:Gt?Qt:void 0,ne=st((function(t,e){var n;ot&&ot.ArrayBuffer&&(n=Jt);var o="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),r="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),i=o||r;e.protocol=3;var s=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=Dt(s),c={type:"error",data:"parser error"};function l(t,e,n){for(var o=new Array(t.length),r=Ht(t.length,n),i=function(t,n,r){e(n,(function(e,n){o[t]=n,r(e,o)}))},s=0;s<t.length;s++)i(s,t[s],r)}e.encodePacket=function(t,n,o,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof o&&(r=o,o=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if(ot.ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,o){if(!n)return e.encodeBase64Packet(t,o);var r=t.data,i=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=s[t.type];for(var c=0;c<i.length;c++)a[c+1]=i[c];return o(a.buffer)}(t,n,r);if(ee&&a instanceof ot.Blob)return function(t,n,o){if(!n)return e.encodeBase64Packet(t,o);if(i)return function(t,n,o){if(!n)return e.encodeBase64Packet(t,o);var r=new FileReader;return r.onload=function(){t.data=r.result,e.encodePacket(t,n,!0,o)},r.readAsArrayBuffer(t.data)}(t,n,o);var r=new Uint8Array(1);r[0]=s[t.type];var a=new ee([r.buffer,t.data]);return o(a)}(t,n,r);if(a&&a.base64)return function(t,n){var o="b"+e.packets[t.type]+t.data.data;return n(o)}(t,r);var c=s[t.type];return void 0!==t.data&&(c+=o?Ft.encode(String(t.data)):String(t.data)),r(""+c)},e.encodeBase64Packet=function(t,n){var o,r="b"+e.packets[t.type];if(ee&&t.data instanceof ot.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(r+t)},i.readAsDataURL(t.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];o=String.fromCharCode.apply(null,a)}return r+=ot.btoa(o),n(r)},e.decodePacket=function(t,n,o){if(void 0===t)return c;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(o&&!1===(t=function(t){try{t=Ft.decode(t)}catch(t){return!1}return t}(t)))return c;var r=t.charAt(0);return Number(r)==r&&a[r]?t.length>1?{type:a[r],data:t.substring(1)}:{type:a[r]}:c}r=new Uint8Array(t)[0];var i=Vt(t,1);return ee&&"blob"===n&&(i=new ee([i])),{type:a[r],data:i}},e.decodeBase64Packet=function(t,e){var o=a[t.charAt(0)];if(!n)return{type:o,data:{base64:!0,data:t.substr(1)}};var r=n.decode(t.substr(1));return"blob"===e&&ee&&(r=new ee([r])),{type:o,data:r}},e.encodePayload=function(t,n,o){"function"==typeof n&&(o=n,n=null);var r=Ut(t);if(n&&r)return ee&&!i?e.encodePayloadAsBlob(t,o):e.encodePayloadAsArrayBuffer(t,o);if(!t.length)return o("0:");l(t,(function(t,o){e.encodePacket(t,!!r&&n,!0,(function(t){o(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return o(e.join(""))}))},e.decodePayload=function(t,n,o){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,o);var r;if("function"==typeof n&&(o=n,n=null),""==t)return o(c,0,1);for(var i,s,a="",l=0,u=t.length;l<u;l++){var p=t.charAt(l);if(":"!=p)a+=p;else{if(""==a||a!=(i=Number(a)))return o(c,0,1);if(a!=(s=t.substr(l+1,i)).length)return o(c,0,1);if(s.length){if(r=e.decodePacket(s,n,!0),c.type==r.type&&c.data==r.data)return o(c,0,1);if(!1===o(r,l+i,u))return}l+=i,a=""}}return""!=a?o(c,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));l(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var o=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),r=new Uint8Array(o),i=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var o=new Uint8Array(t.length),s=0;s<t.length;s++)o[s]=t.charCodeAt(s);n=o.buffer}r[i++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)r[i++]=parseInt(a[s]);r[i++]=255;for(o=new Uint8Array(n),s=0;s<o.length;s++)r[i++]=o[s]})),n(r.buffer)}))},e.encodePayloadAsBlob=function(t,n){l(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);t=o.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)s[r]=parseInt(i[r]);if(s[i.length]=255,ee){var a=new ee([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new ee(e))}))},e.decodePayloadAsBinary=function(t,n,o){"function"==typeof n&&(o=n,n=null);for(var r=t,i=[],s=!1;r.byteLength>0;){for(var a=new Uint8Array(r),l=0===a[0],u="",p=1;255!=a[p];p++){if(u.length>310){s=!0;break}u+=a[p]}if(s)return o(c,0,1);r=Vt(r,2+u.length),u=parseInt(u);var h=Vt(r,0,u);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(p=0;p<f.length;p++)h+=String.fromCharCode(f[p])}i.push(h),r=Vt(r,u)}var d=i.length;i.forEach((function(t,r){o(e.decodePacket(t,n,!0),r,d)}))}})),oe=st((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})),re=ie;function ie(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}oe(ie.prototype),ie.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},ie.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},ie.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},ie.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},ie.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},ie.prototype.onData=function(t){var e=ne.decodePacket(t,this.socket.binaryType);this.onPacket(e)},ie.prototype.onPacket=function(t){this.emit("packet",t)},ie.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var se,ae=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},ce=function(t){for(var e={},n=t.split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e},le=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},ue="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),pe={},he=0,fe=0;function de(t){var e="";do{e=ue[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function ge(){var t=de(+new Date);return t!==se?(he=0,se=t):t+"."+de(he++)}for(;fe<64;fe++)pe[ue[fe]]=fe;ge.encode=de,ge.decode=function(t){var e=0;for(fe=0;fe<t.length;fe++)e=64*e+pe[t.charAt(fe)];return e};var me=ge,ye=1e3,ve=60*ye,be=60*ve,we=24*be,xe=365.25*we,ke=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*xe;case"days":case"day":case"d":return n*we;case"hours":case"hour":case"hrs":case"hr":case"h":return n*be;case"minutes":case"minute":case"mins":case"min":case"m":return n*ve;case"seconds":case"second":case"secs":case"sec":case"s":return n*ye;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return _e(t,we,"day")||_e(t,be,"hour")||_e(t,ve,"minute")||_e(t,ye,"second")||t+" ms"}(t):function(t){if(t>=we)return Math.round(t/we)+"d";if(t>=be)return Math.round(t/be)+"h";if(t>=ve)return Math.round(t/ve)+"m";if(t>=ye)return Math.round(t/ye)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function _e(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var Ce=st((function(t,e){(e=t.exports=i.debug=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=ke,e.names=[],e.skips=[],e.formatters={};var n,o=0;function r(){return e.colors[o++%e.colors.length]}function i(t){function o(){}function i(){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var l=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,o){if("%%"===n)return n;l++;var r=e.formatters[o];if("function"==typeof r){var i=a[l];n=r.call(t,i),a.splice(l,1),l--}return n})),a=e.formatArgs.apply(t,a);var u=i.log||e.log||console.log.bind(console);u.apply(t,a)}o.enabled=!1,i.enabled=!0;var s=e.enabled(t)?i:o;return s.namespace=t,s}})),$e=st((function(t,e){function n(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof process&&"env"in process)return process.env.DEBUG}(e=t.exports=Ce).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var o="color: "+this.color;t=[t[0],o,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),t.splice(i,0,o),t},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())})),Be=$e("engine.io-client:polling"),Se=Ee,Ae=null!=new zt({xdomain:!1}).responseType;function Ee(t){var e=t&&t.forceBase64;Ae&&!e||(this.supportsBinary=!1),re.call(this,t)}le(Ee,re),Ee.prototype.name="polling",Ee.prototype.doOpen=function(){this.poll()},Ee.prototype.pause=function(t){var e=this;function n(){Be("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(Be("we are currently polling - waiting to pause"),o++,this.once("pollComplete",(function(){Be("pre-pause polling complete"),--o||n()}))),this.writable||(Be("we are currently writing - waiting to pause"),o++,this.once("drain",(function(){Be("pre-pause writing complete"),--o||n()})))}else n()},Ee.prototype.poll=function(){Be("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Ee.prototype.onData=function(t){var e=this;Be("polling got data %s",t);ne.decodePayload(t,this.socket.binaryType,(function(t,n,o){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Be('ignoring poll - transport state "%s"',this.readyState))},Ee.prototype.doClose=function(){var t=this;function e(){Be("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(Be("transport open - closing"),e()):(Be("transport not open - deferring close"),this.once("open",e))},Ee.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};ne.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},Ee.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=me()),this.supportsBinary||t.sid||(t.b64=1),t=ae(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t};var Ne=$e("engine.io-client:polling-xhr"),Te=qe,Le=Oe;function Ie(){}function qe(t){if(Se.call(this,t),this.requestTimeout=t.requestTimeout,ot.location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!==ot.location.hostname||n!==t.port,this.xs=t.secure!==e}else this.extraHeaders=t.extraHeaders}function Oe(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function je(){for(var t in Oe.requests)Oe.requests.hasOwnProperty(t)&&Oe.requests[t].abort()}le(qe,Se),qe.prototype.supportsBinary=!0,qe.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Oe(t)},qe.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:n}),r=this;o.on("success",e),o.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=o},qe.prototype.doPoll=function(){Ne("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},oe(Oe.prototype),Oe.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new zt(t),n=this;try{Ne("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError(e.status)}),0))},Ne("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}ot.document&&(this.index=Oe.requestsCount++,Oe.requests[this.index]=this)},Oe.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Oe.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},Oe.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},Oe.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Ie:this.xhr.onreadystatechange=Ie,t)try{this.xhr.abort()}catch(t){}ot.document&&delete Oe.requests[this.index],this.xhr=null}},Oe.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),o=[],r=0,i=n.length;r<i;r++)o.push(n[r]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},Oe.prototype.hasXDR=function(){return void 0!==ot.XDomainRequest&&!this.xs&&this.enablesXDR},Oe.prototype.abort=function(){this.cleanup()},Oe.requestsCount=0,Oe.requests={},ot.document&&(ot.attachEvent?ot.attachEvent("onunload",je):ot.addEventListener&&ot.addEventListener("beforeunload",je,!1)),Te.Request=Le;var Re,Pe=Ue,Me=/\n/g,ze=/\\n/g;function De(){}function Ue(t){Se.call(this,t),this.query=this.query||{},Re||(ot.___eio||(ot.___eio=[]),Re=ot.___eio),this.index=Re.length;var e=this;Re.push((function(t){e.onData(t)})),this.query.j=this.index,ot.document&&ot.addEventListener&&ot.addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=De)}),!1)}le(Ue,Se),Ue.prototype.supportsBinary=!1,Ue.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Se.prototype.doClose.call(this)},Ue.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},Ue.prototype.doWrite=function(t,e){var n=this;if(!this.form){var o,r=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}function a(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(t)}catch(t){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),c(),t=t.replace(ze,"\\\n"),this.area.value=t.replace(Me,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var Ve,He=it(Object.freeze({__proto__:null,default:{}})),We=$e("engine.io-client:websocket"),Fe=ot.WebSocket||ot.MozWebSocket;if("undefined"==typeof window)try{Ve=He}catch(t){}var Je=Fe;Je||"undefined"!=typeof window||(Je=Ve);var Xe=Ye;function Ye(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=Fe&&!t.forceNode,this.usingBrowserWebSocket||(Je=Ve),re.call(this,t)}le(Ye,re),Ye.prototype.name="websocket",Ye.prototype.supportsBinary=!0,Ye.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.localAddress&&(e.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new Je(t):new Je(t,void 0,e)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},Ye.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},Ye.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,o=0,r=n;o<r;o++)!function(t){ne.encodePacket(t,e.supportsBinary,(function(o){if(!e.usingBrowserWebSocket){var r={};if(t.options&&(r.compress=t.options.compress),e.perMessageDeflate)("string"==typeof o?ot.Buffer.byteLength(o):o.length)<e.perMessageDeflate.threshold&&(r.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(o):e.ws.send(o,r)}catch(t){We("websocket closed before onclose event")}--n||i()}))}(t[o]);function i(){e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0)}},Ye.prototype.onClose=function(){re.prototype.onClose.call(this)},Ye.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Ye.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=me()),this.supportsBinary||(t.b64=1),(t=ae(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},Ye.prototype.check=function(){return!(!Je||"__initialize"in Je&&this.name===Ye.prototype.name)};var Ke={polling:function(t){var e=!1,n=!1,o=!1!==t.jsonp;if(ot.location){var r="https:"===location.protocol,i=location.port;i||(i=r?443:80),e=t.hostname!==location.hostname||i!==t.port,n=t.secure!==r}if(t.xdomain=e,t.xscheme=n,"open"in new zt(t)&&!t.forceJSONP)return new Te(t);if(!o)throw new Error("JSONP disabled");return new Pe(t)},websocket:Xe},Ge=[].indexOf,Ze=function(t,e){if(Ge)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},Qe=/^[\],:{}\s]*$/,tn=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,en=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,nn=/(?:^|:|,)(?:\s*\[)+/g,on=/^\s+/,rn=/\s+$/,sn=$e("engine.io-client:socket"),an=cn;function cn(t,e){if(!(this instanceof cn))return new cn(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=lt(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=lt(e.host).host),this.secure=null!=e.secure?e.secure:ot.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(ot.location?location.hostname:"localhost"),this.port=e.port||(ot.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=ce(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized?null:e.rejectUnauthorized,this.forceNode=!!e.forceNode;var n="object"==typeof ot&&ot;n.global===n&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}cn.priorWebsocketSuccess=!1,oe(cn.prototype),cn.protocol=ne.protocol,cn.Socket=cn,cn.Transport=re,cn.transports=Ke,cn.parser=ne,cn.prototype.createTransport=function(t){sn('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);return e.EIO=ne.protocol,e.transport=t,this.id&&(e.sid=this.id),new Ke[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},cn.prototype.open=function(){var t;if(this.rememberUpgrade&&cn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},cn.prototype.setTransport=function(t){sn("setting transport %s",t.name);var e=this;this.transport&&(sn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},cn.prototype.probe=function(t){sn('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,o=this;function r(){if(o.onlyBinaryUpgrades){var r=!this.supportsBinary&&o.transport.supportsBinary;n=n||r}n||(sn('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(sn('probe transport "%s" pong',t),o.upgrading=!0,o.emit("upgrading",e),!e)return;cn.priorWebsocketSuccess="websocket"===e.name,sn('pausing current transport "%s"',o.transport.name),o.transport.pause((function(){n||"closed"!==o.readyState&&(sn("changing transport and sending upgrade packet"),u(),o.setTransport(e),e.send([{type:"upgrade"}]),o.emit("upgrade",e),e=null,o.upgrading=!1,o.flush())}))}else{sn('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=e.name,o.emit("upgradeError",i)}})))}function i(){n||(n=!0,u(),e.close(),e=null)}function s(n){var r=new Error("probe error: "+n);r.transport=e.name,i(),sn('probe transport "%s" failed because of error: %s',t,n),o.emit("upgradeError",r)}function a(){s("transport closed")}function c(){s("socket closed")}function l(t){e&&t.name!==e.name&&(sn('"%s" works - aborting "%s"',t.name,e.name),i())}function u(){e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",a),o.removeListener("close",c),o.removeListener("upgrading",l)}cn.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",l),e.open()},cn.prototype.onOpen=function(){if(sn("socket open"),this.readyState="open",cn.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){sn("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},cn.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(sn('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake("string"==typeof(n=t.data)&&n?(n=n.replace(on,"").replace(rn,""),ot.JSON&&JSON.parse?JSON.parse(n):Qe.test(n.replace(tn,"@").replace(en,"]").replace(nn,""))?new Function("return "+n)():void 0):null);break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else sn('packet received with socket readyState "%s"',this.readyState);var n},cn.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},cn.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},cn.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){sn("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},cn.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},cn.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},cn.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(sn("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},cn.prototype.write=cn.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},cn.prototype.sendPacket=function(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},cn.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?o():e()})):this.upgrading?o():e()}function e(){t.onClose("forced close"),sn("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function o(){t.once("upgrade",n),t.once("upgradeError",n)}return this},cn.prototype.onError=function(t){sn("socket error %j",t),cn.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},cn.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){sn('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},cn.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~Ze(this.transports,t[n])&&e.push(t[n]);return e};var ln=an,un=ne;ln.parser=un;var pn=ln,hn=function(t,e){for(var n=[],o=(e=e||0)||0;o<t.length;o++)n[o-e]=t[o];return n};var fn=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}};var dn=[].slice,gn=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=dn.call(arguments,2);return function(){return e.apply(t,n.concat(dn.call(arguments)))}},mn=st((function(t,e){var n=vt("socket.io-client:socket");t.exports=i;var o={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},r=oe.prototype.emit;function i(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}oe(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[fn(t,"open",gn(this,"onopen")),fn(t,"packet",gn(this,"onpacket")),fn(t,"close",gn(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},i.prototype.send=function(){var t=hn(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(o.hasOwnProperty(t))return r.apply(this,arguments),this;var e=hn(arguments),i=Pt.EVENT;Ut(e)&&(i=Pt.BINARY_EVENT);var s={type:i,data:e,options:{}};return s.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),delete this.flags,this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){n("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:Pt.CONNECT,query:this.query}):this.packet({type:Pt.CONNECT}))},i.prototype.onclose=function(t){n("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case Pt.CONNECT:this.onconnect();break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(t);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(t);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];n("emitting event %j",e),null!=t.id&&(n("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?r.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,o=!1;return function(){if(!o){o=!0;var r=hn(arguments);n("sending ack %j",r);var i=Ut(r)?Pt.BINARY_ACK:Pt.ACK;e.packet({type:i,id:t,data:r})}}},i.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(n("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):n("bad ack %s",t.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)r.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Pt.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}})),yn=vn;function vn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},vn.prototype.reset=function(){this.attempts=0},vn.prototype.setMin=function(t){this.ms=t},vn.prototype.setMax=function(t){this.max=t},vn.prototype.setJitter=function(t){this.jitter=t};var bn=vt("socket.io-client:manager"),wn=Object.prototype.hasOwnProperty,xn=kn;function kn(t,e){if(!(this instanceof kn))return new kn(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new yn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new Pt.Encoder,this.decoder=new Pt.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}kn.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)wn.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},kn.prototype.updateSocketIds=function(){for(var t in this.nsps)wn.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},oe(kn.prototype),kn.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},kn.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},kn.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},kn.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},kn.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},kn.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},kn.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},kn.prototype.open=kn.prototype.connect=function(t,e){if(bn("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;bn("opening %s",this.uri),this.engine=pn(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var r=fn(n,"open",(function(){o.onopen(),t&&t()})),i=fn(n,"error",(function(e){if(bn("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;bn("connect attempt will timeout after %d",s);var a=setTimeout((function(){bn("connect attempt timed out after %d",s),r.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(i),this},kn.prototype.onopen=function(){bn("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(fn(t,"data",gn(this,"ondata"))),this.subs.push(fn(t,"ping",gn(this,"onping"))),this.subs.push(fn(t,"pong",gn(this,"onpong"))),this.subs.push(fn(t,"error",gn(this,"onerror"))),this.subs.push(fn(t,"close",gn(this,"onclose"))),this.subs.push(fn(this.decoder,"decoded",gn(this,"ondecoded")))},kn.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},kn.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},kn.prototype.ondata=function(t){this.decoder.add(t)},kn.prototype.ondecoded=function(t){this.emit("packet",t)},kn.prototype.onerror=function(t){bn("error",t),this.emitAll("error",t)},kn.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new mn(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",(function(){n.id=o.engine.id})),this.autoConnect&&r()}function r(){~Ze(o.connecting,n)||o.connecting.push(n)}return n},kn.prototype.destroy=function(t){var e=Ze(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},kn.prototype.packet=function(t){bn("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()})))},kn.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},kn.prototype.cleanup=function(){bn("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},kn.prototype.close=kn.prototype.disconnect=function(){bn("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},kn.prototype.onclose=function(t){bn("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},kn.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)bn("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();bn("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(bn("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(bn("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(bn("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},kn.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};var _n=st((function(t,e){var n=vt("socket.io-client");t.exports=e=r;var o=e.managers={};function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i=wt(t),s=i.source,a=i.id,c=i.path,l=o[a]&&c in o[a].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(n("ignoring socket cache for %s",s),r=xn(s,e)):(o[a]||(n("new io instance for %s",s),o[a]=xn(s,e)),r=o[a]),i.query&&!e.query?e.query=i.query:e&&"object"==typeof e.query&&(e.query=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(e.query)),r.socket(i.path,e)}e.protocol=Pt.protocol,e.connect=r,e.Manager=xn,e.Socket=mn}));const Cn=[];function $n(t,e=r){let n;const o=new Set;function i(e){if(l(t,e)&&(t=e,n)){const e=!Cn.length;for(const e of o)e[1](),Cn.push(e,t);if(e){for(let t=0;t<Cn.length;t+=2)Cn[t][0](Cn[t+1]);Cn.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=r){const c=[s,a];return o.add(c),1===o.size&&(n=e(i)||r),s(t),()=>{o.delete(c),0===o.size&&(n(),n=null)}}}}const Bn=$n({appBackground:"#2A212C",textcolor:"#80FFEA",fontSize:"14px",fontFamily:"Arial",highlight:"#9580FF"}),Sn=$n(void 0);function An(t,e,n){const o=t.slice();return o[17]=e[n],o}function En(t){let e,n,o,r=t[17].moduleName+"";return{c(){e=m("option"),n=y(r),e.__value=o=t[17].moduleName,e.value=e.__value},m(t,o){f(t,e,o),h(e,n)},p(t,i){1&i&&r!==(r=t[17].moduleName+"")&&k(n,r),1&i&&o!==(o=t[17].moduleName)&&(e.__value=o,e.value=e.__value)},d(t){t&&d(e)}}}function Nn(t){let e,n,o;var r=t[5].config;function i(t){return{props:{config:t[4]}}}return r&&(e=new r(i(t)),e.$on("change",t[12])),{c(){e&&Z(e.$$.fragment),n=b()},m(t,r){e&&Q(e,t,r),f(t,n,r),o=!0},p(t,o){const s={};if(16&o&&(s.config=t[4]),r!==(r=t[5].config)){if(e){X();const t=e;G(t.$$.fragment,1,0,(()=>{tt(t,1)})),Y()}r?(e=new r(i(t)),e.$on("change",t[12]),Z(e.$$.fragment),K(e.$$.fragment,1),Q(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(t){o||(e&&K(e.$$.fragment,t),o=!0)},o(t){e&&G(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&tt(e,t)}}}function Tn(t){let e,n,o,r,i,s,c,l,u,p,b,k,C,B,S,A,E,N,T,L,I,q,O,j=t[0],R=[];for(let e=0;e<j.length;e+=1)R[e]=En(An(t,j,e));let P=null!==t[5]&&Nn(t);return{c(){e=m("div"),n=m("label"),n.textContent="What's the name?",o=v(),r=m("input"),s=v(),c=m("label"),c.textContent="What Type of Component?",l=v(),u=m("select");for(let t=0;t<R.length;t+=1)R[t].c();b=v(),k=m("label"),k.textContent="Height:",C=v(),B=m("input"),A=v(),P&&P.c(),E=v(),N=m("button"),T=y("Add Component"),x(n,"class","componentLabel svelte-1ttny9a"),x(n,"for","componentName"),x(r,"type","text"),x(r,"class","componentInput svelte-1ttny9a"),x(r,"id","componentName"),x(r,"color",i=t[6].appBackground),x(c,"for","componentTypeInput"),x(c,"class","componentLabel svelte-1ttny9a"),x(u,"name","componentTypeInput"),x(u,"class","componentInput svelte-1ttny9a"),x(u,"color",p=t[6].appBackground),x(u,"id","componentTypeInput"),void 0===t[1]&&D((()=>t[10].call(u))),x(k,"for","componentHeight"),x(k,"class","componentLabel svelte-1ttny9a"),x(B,"type","text"),x(B,"class","componentInput svelte-1ttny9a"),x(B,"color",S=t[6].appBackground),x(B,"id","componentHeight"),x(N,"id","addComponentButton"),x(N,"type","button"),x(N,"color",L=t[6].appBackground),x(N,"class","svelte-1ttny9a"),x(e,"id","addComponentDialog"),x(e,"class","svelte-1ttny9a")},m(i,a){f(i,e,a),h(e,n),h(e,o),h(e,r),_(r,t[3]),h(e,s),h(e,c),h(e,l),h(e,u);for(let t=0;t<R.length;t+=1)R[t].m(u,null);$(u,t[1]),h(e,b),h(e,k),h(e,C),h(e,B),_(B,t[2]),h(e,A),P&&P.m(e,null),h(e,E),h(e,N),h(N,T),I=!0,q||(O=[w(r,"input",t[9]),w(u,"change",t[10]),w(u,"change",t[8]),w(B,"input",t[11]),w(N,"click",t[13])],q=!0)},p(t,[n]){if((!I||64&n&&i!==(i=t[6].appBackground))&&x(r,"color",i),8&n&&r.value!==t[3]&&_(r,t[3]),1&n){let e;for(j=t[0],e=0;e<j.length;e+=1){const o=An(t,j,e);R[e]?R[e].p(o,n):(R[e]=En(o),R[e].c(),R[e].m(u,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=j.length}(!I||64&n&&p!==(p=t[6].appBackground))&&x(u,"color",p),3&n&&$(u,t[1]),(!I||64&n&&S!==(S=t[6].appBackground))&&x(B,"color",S),4&n&&B.value!==t[2]&&_(B,t[2]),null!==t[5]?P?(P.p(t,n),32&n&&K(P,1)):(P=Nn(t),P.c(),K(P,1),P.m(e,E)):P&&(X(),G(P,1,1,(()=>{P=null})),Y()),(!I||64&n&&L!==(L=t[6].appBackground))&&x(N,"color",L)},i(t){I||(K(P),I=!0)},o(t){G(P),I=!1},d(t){t&&d(e),g(R,t),P&&P.d(),q=!1,a(O)}}}function Ln(t,e,n){let o,r;u(t,Sn,(t=>n(14,o=t))),u(t,Bn,(t=>n(6,r=t)));let{types:i}=e;const s=L();let a=null,c=30,l="",p={},h=null;function f(t){var e={};return null!==t&&(e=i.find((e=>e.moduleName===t))),e}function d(){null===p&&n(4,p={}),s("addNewComponent",{module:{name:l,widgetName:a,height:parseInt(c,10),config:p}}),n(3,l=""),n(1,a=null),n(2,c=30),n(4,p={})}T((()=>{n(1,a=i[0].moduleName),n(5,h=f(a))}));return t.$$set=t=>{"types"in t&&n(0,i=t.types)},t.$$.update=()=>{2&t.$$.dirty&&n(5,h=f(a))},[i,a,c,l,p,h,r,d,function(){setTimeout((()=>{o()}),50)},function(){l=this.value,n(3,l)},function(){a=B(this),n(1,a),n(0,i)},function(){c=this.value,n(2,c)},t=>{n(4,p=t.detail)},()=>{d()}]}class In extends nt{constructor(t){super(),et(this,t,Ln,Tn,l,{types:0})}}function qn(t){let e,n,o;var r=t[3];function i(t){return{props:{config:t[2]}}}return r&&(e=new r(i(t)),e.$on("change",t[10])),{c(){e&&Z(e.$$.fragment),n=b()},m(t,r){e&&Q(e,t,r),f(t,n,r),o=!0},p(t,o){const s={};if(4&o&&(s.config=t[2]),r!==(r=t[3])){if(e){X();const t=e;G(t.$$.fragment,1,0,(()=>{tt(t,1)})),Y()}r?(e=new r(i(t)),e.$on("change",t[10]),Z(e.$$.fragment),K(e.$$.fragment,1),Q(e,n.parentNode,n)):e=null}else r&&e.$set(s)},i(t){o||(e&&K(e.$$.fragment,t),o=!0)},o(t){e&&G(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&tt(e,t)}}}function On(t){let e,n,o,r,i,s,c,l,u,p,g,b,k,C,$,B,S,A,E,N,T,L,I,q=null!==t[3]&&qn(t);return{c(){e=m("div"),n=m("label"),n.textContent="What's the name?",o=v(),r=m("input"),s=v(),c=m("label"),c.textContent="Height:",l=v(),u=m("input"),g=v(),q&&q.c(),b=v(),k=m("div"),C=m("button"),$=y("Save Component"),S=v(),A=m("button"),E=y("Delete Component"),x(n,"class","componentLabel svelte-113kdcb"),x(n,"for","componentName"),x(r,"type","text"),x(r,"class","componentInput svelte-113kdcb"),x(r,"id","componentName"),x(r,"color",i=t[4].appBackground),x(c,"for","componentHeight"),x(c,"class","componentLabel svelte-113kdcb"),x(u,"type","text"),x(u,"class","componentInput svelte-113kdcb"),x(u,"color",p=t[4].appBackground),x(u,"id","componentHeight"),x(C,"id","editComponentButton"),x(C,"type","button"),x(C,"color",B=t[4].appBackground),x(C,"class","svelte-113kdcb"),x(A,"id","deleteComponentButton"),x(A,"type","button"),x(A,"color",N=t[4].appBackground),x(A,"class","svelte-113kdcb"),x(k,"id","buttonRow"),x(k,"class","svelte-113kdcb"),x(e,"id","editComponentDialog"),x(e,"class","svelte-113kdcb")},m(i,a){f(i,e,a),h(e,n),h(e,o),h(e,r),_(r,t[1]),h(e,s),h(e,c),h(e,l),h(e,u),_(u,t[0]),h(e,g),q&&q.m(e,null),h(e,b),h(e,k),h(k,C),h(C,$),h(k,S),h(k,A),h(A,E),T=!0,L||(I=[w(r,"input",t[8]),w(u,"input",t[9]),w(C,"click",t[11]),w(A,"click",t[12])],L=!0)},p(t,[n]){(!T||16&n&&i!==(i=t[4].appBackground))&&x(r,"color",i),2&n&&r.value!==t[1]&&_(r,t[1]),(!T||16&n&&p!==(p=t[4].appBackground))&&x(u,"color",p),1&n&&u.value!==t[0]&&_(u,t[0]),null!==t[3]?q?(q.p(t,n),8&n&&K(q,1)):(q=qn(t),q.c(),K(q,1),q.m(e,b)):q&&(X(),G(q,1,1,(()=>{q=null})),Y()),(!T||16&n&&B!==(B=t[4].appBackground))&&x(C,"color",B),(!T||16&n&&N!==(N=t[4].appBackground))&&x(A,"color",N)},i(t){T||(K(q),T=!0)},o(t){G(q),T=!1},d(t){t&&d(e),q&&q.d(),L=!1,a(I)}}}function jn(t,e,n){let o;u(t,Bn,(t=>n(4,o=t)));let{widget:r}=e;const i=L();let s=null,a=30,c="",l={},p=null;function h(t){return n(3,p=t.configWidget),n(1,c=t.name),s=t.widgetName,n(0,a=t.height),n(2,l=t.config),t}function f(){null===l&&n(2,l={}),i("editComponent",{module:{id:r.id,name:c,widgetName:s,height:parseInt(a,10),config:l}})}function d(){i("deleteComponent",{module:{id:r.id}})}T((()=>{n(7,r=h(r))}));return t.$$set=t=>{"widget"in t&&n(7,r=t.widget)},t.$$.update=()=>{128&t.$$.dirty&&n(7,r=h(r))},[a,c,l,p,o,f,d,r,function(){c=this.value,n(1,c)},function(){a=this.value,n(0,a)},t=>{n(2,l=t.detail)},()=>{f()},()=>{d()}]}class Rn extends nt{constructor(t){super(),et(this,t,jn,On,l,{widget:7})}}function Pn(t){let e,n,o,r;return{c(){e=m("span"),n=y(t[0]),x(e,"class","pListName svelte-1u9rxym")},m(i,s){f(i,e,s),h(e,n),o||(r=[w(e,"dblclick",t[10]),w(e,"contextmenu",t[11])],o=!0)},p(t,e){1&e&&k(n,t[0])},d(t){t&&d(e),o=!1,a(r)}}}function Mn(t){let e,n,o;return{c(){e=m("textarea"),x(e,"class","eListName svelte-1u9rxym")},m(r,i){f(r,e,i),_(e,t[0]),t[7](e),n||(o=[w(e,"input",t[6]),w(e,"keydown",t[8]),w(e,"blur",t[9])],n=!0)},p(t,n){1&n&&_(e,t[0])},d(r){r&&d(e),t[7](null),n=!1,a(o)}}}function zn(t){let e;function n(t,e){return t[2]?Mn:Pn}let o=n(t),i=o(t);return{c(){e=m("div"),i.c(),x(e,"class","editSpanField svelte-1u9rxym")},m(t,n){f(t,e,n),i.m(e,null)},p(t,[r]){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},i:r,o:r,d(t){t&&d(e),i.d()}}}function Dn(t,e,n){let o,{name:r}=e,i=!1;const s=L();function a(){s("middleButton",{})}async function c(){n(2,i=!0),await z(),o.focus()}function l(){s("nameChanged",{name:o.value}),n(2,i=!1)}return t.$$set=t=>{"name"in t&&n(0,r=t.name)},[r,o,i,a,c,l,function(){r=this.value,n(0,r)},function(t){q[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},t=>{"Enter"===t.code&&l()},()=>{l()},()=>{c()},t=>{t.preventDefault(),a()}]}class Un extends nt{constructor(t){super(),et(this,t,Dn,zn,l,{name:0})}}const Vn=$n(0),Hn=$n(400);function Wn(t){let e,n;return{c(){e=m("div"),n=m("div"),x(n,"id","HeaderInside"),C(n,"left",t[2]+"px"),C(n,"height","100%"),C(n,"border-bottom-color",t[3].appBackground),x(n,"class","svelte-1xc26tp"),x(e,"id","HeaderOutside"),C(e,"width",t[1]+"px"),x(e,"class","svelte-1xc26tp")},m(o,r){f(o,e,r),h(e,n),t[4](e)},p(t,[o]){4&o&&C(n,"left",t[2]+"px"),8&o&&C(n,"border-bottom-color",t[3].appBackground),2&o&&C(e,"width",t[1]+"px")},i:r,o:r,d(n){n&&d(e),t[4](null)}}}function Fn(t,e,n){let o,r,i,s;return u(t,Hn,(t=>n(1,o=t))),u(t,Vn,(t=>n(2,r=t))),u(t,Bn,(t=>n(3,i=t))),[s,o,r,i,function(t){q[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class Jn extends nt{constructor(t){super(),et(this,t,Fn,Wn,l,{})}}const Xn=$n({}),Yn=$n({port:9978});function Kn(t){let e,n,o,i,s,c,l,u;return{c(){e=m("div"),n=m("p"),o=y(t[0]),i=v(),s=m("p"),c=y(t[4]),x(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),x(n,"data-index",t[1]),x(s,"class","value svelte-1xqw1f6"),C(s,"font-size",t[5].fontSize),x(s,"data-index",t[1]),x(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[2])+"px"),x(e,"data-index",t[1])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),h(e,s),h(s,c),t[16](e),l||(u=[w(n,"dblclick",t[10]),w(n,"contextmenu",t[11]),w(e,"mouseenter",t[12]),w(e,"mouseleave",t[13]),w(e,"mouseout",t[14]),w(e,"blur",t[15])],l=!0)},p(t,[r]){1&r&&k(o,t[0]),32&r&&C(n,"font-size",t[5].fontSize),2&r&&x(n,"data-index",t[1]),16&r&&k(c,t[4]),32&r&&C(s,"font-size",t[5].fontSize),2&r&&x(s,"data-index",t[1]),4&r&&C(e,"height",Math.floor(t[2])+"px"),2&r&&x(e,"data-index",t[1])},i:r,o:r,d(n){n&&d(e),t[16](null),l=!1,a(u)}}}function Gn(t,e,n){let o,r,i;u(t,Sn,(t=>n(17,o=t))),u(t,Xn,(t=>n(9,r=t))),u(t,Bn,(t=>n(5,i=t)));let s,{name:a}=e,{config:c}=e,{index:l}=e,{height:p}=e;const h=L();let f="loading...";function d(){fetch("http://localhost:9978/api/nodered/var/"+c.flowVar).then((t=>t.json())).then((t=>{null!==t&&void 0!==t.text&&null!==t.text&&(n(4,f=t.text),o())}))}function g(){h("middleButton",{index:l,dom:s})}T((()=>{d()}));return t.$$set=t=>{"name"in t&&n(0,a=t.name),"config"in t&&n(8,c=t.config),"index"in t&&n(1,l=t.index),"height"in t&&n(2,p=t.height)},t.$$.update=()=>{var e;512&t.$$.dirty&&null!==(e=r)&&e.on(c.flowVar,(t=>{null!==t&&(n(4,f=t),o())})),2&t.$$.dirty&&d()},[a,l,p,s,f,i,h,g,c,r,t=>{h("dblclick",{})},t=>{t.preventDefault(),g()},()=>{n(3,s.style.color=i.highlight,s)},()=>{n(3,s.style.color=i.textcolor,s)},()=>{n(3,s.style.color=i.textcolor,s)},()=>{n(3,s.style.color=i.textcolor,s)},function(t){q[t?"unshift":"push"]((()=>{s=t,n(3,s)}))}]}class Zn extends nt{constructor(t){super(),et(this,t,Gn,Kn,l,{name:0,config:8,index:1,height:2})}}function Qn(t){let e,n,o,i,s,c;return{c(){e=m("div"),n=m("label"),n.textContent="What is the name of the variable?",o=v(),i=m("input"),x(n,"for","Name"),x(n,"class","componentLabel svelte-eoh90a"),x(i,"id","Name"),x(i,"type","text"),x(i,"class","componentInput svelte-eoh90a"),x(e,"class","FlowVariableConfig svelte-eoh90a")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),_(i,t[0].flowVar),s||(c=[w(i,"input",t[2]),w(i,"change",t[3])],s=!0)},p(t,[e]){1&e&&i.value!==t[0].flowVar&&_(i,t[0].flowVar)},i:r,o:r,d(t){t&&d(e),s=!1,a(c)}}}function to(t,e,n){const o=L();let{config:r}=e;return t.$$set=t=>{"config"in t&&n(0,r=t.config)},[r,o,function(){r.flowVar=this.value,n(0,r)},()=>{o("change",{flowVar:r.flowVar})}]}class eo extends nt{constructor(t){super(),et(this,t,to,Qn,l,{config:0})}}function no(t){let e,n,o,i;return{c(){e=m("div"),n=m("hr"),x(n,"id",t[0]),x(n,"class","svelte-n4txif"),x(e,"class","main svelte-n4txif"),C(e,"height",Math.floor(t[1])+"px")},m(r,s){f(r,e,s),h(e,n),t[9](e),o||(i=[w(e,"contextmenu",t[7]),w(e,"dblclick",t[8])],o=!0)},p(t,[o]){1&o&&x(n,"id",t[0]),2&o&&C(e,"height",Math.floor(t[1])+"px")},i:r,o:r,d(n){n&&d(e),t[9](null),o=!1,a(i)}}}function oo(t,e,n){let o,{config:r}=e,{name:i}=e,{index:s}=e,{height:a}=e;const c=L();function l(){n(5,r),c("middleButton",{index:s,dom:o})}return t.$$set=t=>{"config"in t&&n(5,r=t.config),"name"in t&&n(0,i=t.name),"index"in t&&n(6,s=t.index),"height"in t&&n(1,a=t.height)},[i,a,o,c,l,r,s,t=>{t.preventDefault(),l()},t=>{t.preventDefault(),c("dblclick",{})},function(t){q[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class ro extends nt{constructor(t){super(),et(this,t,oo,no,l,{config:5,name:0,index:6,height:1})}}function io(t){let e;return{c(){e=m("div"),x(e,"class","SeparatorConfig svelte-6l742t")},m(t,n){f(t,e,n)},p:r,i:r,o:r,d(t){t&&d(e)}}}function so(t,e,n){let{config:o}=e;return t.$$set=t=>{"config"in t&&n(0,o=t.config)},t.$$.update=()=>{1&t.$$.dirty&&n(0,o)},[o]}class ao extends nt{constructor(t){super(),et(this,t,so,io,l,{config:0})}}function co(t){let e,n,o,i,s,c,l,u;return{c(){e=m("div"),n=m("p"),o=y(t[4]),i=v(),s=m("p"),c=y(t[3]),x(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),x(n,"data-index",t[0]),x(s,"class","value svelte-1xqw1f6"),C(s,"font-size",t[5].fontSize),x(s,"data-index",t[0]),x(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[1])+"px"),x(e,"data-index",t[0])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),h(e,s),h(s,c),t[13](e),l||(u=[w(n,"dblclick",t[11]),w(n,"contextmenu",t[12]),w(e,"mouseenter",t[14]),w(e,"mouseleave",t[15]),w(e,"mouseout",t[16]),w(e,"blur",t[17])],l=!0)},p(t,[r]){16&r&&k(o,t[4]),32&r&&C(n,"font-size",t[5].fontSize),1&r&&x(n,"data-index",t[0]),8&r&&k(c,t[3]),32&r&&C(s,"font-size",t[5].fontSize),1&r&&x(s,"data-index",t[0]),2&r&&C(e,"height",Math.floor(t[1])+"px"),1&r&&x(e,"data-index",t[0])},i:r,o:r,d(n){n&&d(e),t[13](null),l=!1,a(u)}}}function lo(t,e,n){let o,r,i;u(t,Sn,(t=>n(18,o=t))),u(t,Xn,(t=>n(10,r=t))),u(t,Bn,(t=>n(5,i=t)));let s,a,{name:c}=e,{config:l}=e,{index:p}=e,{height:h}=e,f="loading...";const d=L();function g(t){fetch("http://localhost:9978/api/nodered/var/"+l.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text&&(void 0!==t.text.days&&n(3,f=t.text.days),void 0!==t.text.age?n(4,a=c+": "+t.text.age):n(4,a=c),o())})).catch((t=>{n(4,a=c),n(3,f="not reachable")}))}function m(){d("middleButton",{index:p,dom:s})}T((()=>{n(4,a=c)}));return t.$$set=t=>{"name"in t&&n(8,c=t.name),"config"in t&&n(9,l=t.config),"index"in t&&n(0,p=t.index),"height"in t&&n(1,h=t.height)},t.$$.update=()=>{var e;1024&t.$$.dirty&&null!==(e=r)&&e.on(l.flowVar,(t=>{null!==t&&void 0!==t.days&&(n(3,f=t.days),n(4,a=c+": "+t.age),o())})),1&t.$$.dirty&&g()},[p,h,s,f,a,i,d,m,c,l,r,t=>{d("dblclick",{})},t=>{t.preventDefault(),m()},function(t){q[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},()=>{n(2,s.style.color=i.highlight,s)},()=>{n(2,s.style.color=i.textcolor,s)},()=>{n(2,s.style.color=i.textcolor,s)},()=>{n(2,s.style.color=i.textcolor,s)}]}class uo extends nt{constructor(t){super(),et(this,t,lo,co,l,{name:8,config:9,index:0,height:1})}}function po(t){let e,n,o,i,s,c;return{c(){e=m("div"),n=m("label"),n.textContent="Who's birthday? (Name of Variable)",o=v(),i=m("input"),x(n,"for","Name"),x(n,"class","componentLabel svelte-10sirl3"),x(i,"id","Name"),x(i,"type","text"),x(i,"class","componentInput svelte-10sirl3"),x(e,"class","BirthdayConfig svelte-10sirl3")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),_(i,t[0].flowVar),s||(c=[w(i,"input",t[2]),w(i,"change",t[3])],s=!0)},p(t,[e]){1&e&&i.value!==t[0].flowVar&&_(i,t[0].flowVar)},i:r,o:r,d(t){t&&d(e),s=!1,a(c)}}}function ho(t,e,n){const o=L();let{config:r}=e;return t.$$set=t=>{"config"in t&&n(0,r=t.config)},[r,o,function(){r.flowVar=this.value,n(0,r)},()=>{o("change",{flowVar:r.flowVar})}]}class fo extends nt{constructor(t){super(),et(this,t,ho,po,l,{config:0})}}function go(t){let e,n;return{c(){e=m("p"),n=y(t[5]),x(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),x(e,"data-index",t[2])},m(t,o){f(t,e,o),h(e,n)},p(t,o){32&o&&k(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&x(e,"data-index",t[2])},d(t){t&&d(e)}}}function mo(t){let e,n,o,r;return{c(){e=m("p"),n=y(t[5]),x(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),C(e,"cursor","pointer"),x(e,"data-index",t[2])},m(i,s){f(i,e,s),h(e,n),o||(r=w(e,"click",t[13]),o=!0)},p(t,o){32&o&&k(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&x(e,"data-index",t[2])},d(t){t&&d(e),o=!1,r()}}}function yo(t){let e,n,o,i,s,c;function l(t,e){return t[1].showLink?mo:go}let u=l(t),p=u(t);return{c(){e=m("div"),n=m("p"),o=y(t[0]),i=v(),p.c(),x(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[6].fontSize),x(n,"data-index",t[2]),x(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[3])+"px"),x(e,"data-index",t[2])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),p.m(e,null),t[18](e),s||(c=[w(n,"dblclick",t[11]),w(n,"contextmenu",t[12]),w(e,"mouseenter",t[14]),w(e,"mouseleave",t[15]),w(e,"mouseout",t[16]),w(e,"blur",t[17])],s=!0)},p(t,[r]){1&r&&k(o,t[0]),64&r&&C(n,"font-size",t[6].fontSize),4&r&&x(n,"data-index",t[2]),u===(u=l(t))&&p?p.p(t,r):(p.d(1),p=u(t),p&&(p.c(),p.m(e,null))),8&r&&C(e,"height",Math.floor(t[3])+"px"),4&r&&x(e,"data-index",t[2])},i:r,o:r,d(n){n&&d(e),p.d(),t[18](null),s=!1,a(c)}}}function vo(t,e,n){let o,r;u(t,Xn,(t=>n(10,o=t))),u(t,Bn,(t=>n(6,r=t)));let i,{name:s}=e,{config:a}=e,{index:c}=e,{height:l}=e,p="loading...",h="";const f=L();function d(){a.showLink&&backend.writeClipboard(h)}function g(){fetch("http://localhost:9978/api/nodered/var/"+a.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text?(void 0!==t.text.ip&&n(5,p=t.text.ip),h="http://"+p,0!==parseInt(a.port)&&(h+=":"+a.port)):(n(5,p="loading..."),h="")}))}function m(){f("middleButton",{index:c,dom:i})}T((()=>{g()}));return t.$$set=t=>{"name"in t&&n(0,s=t.name),"config"in t&&n(1,a=t.config),"index"in t&&n(2,c=t.index),"height"in t&&n(3,l=t.height)},t.$$.update=()=>{var e;1024&t.$$.dirty&&void 0!==(e=o)&&e.on(a.flowVar,(t=>{void 0!==t&&(void 0!==t.ip&&n(5,p=t.ip),h="http://"+p,0!==parseInt(a.port)&&(h+=":"+a.port))})),4&t.$$.dirty&&g()},[s,a,c,l,i,p,r,f,d,m,o,t=>{f("dblclick",{})},t=>{t.preventDefault(),m()},t=>{d()},()=>{n(4,i.style.color=r.highlight,i)},()=>{n(4,i.style.color=r.textcolor,i)},()=>{n(4,i.style.color=r.textcolor,i)},()=>{n(4,i.style.color=r.textcolor,i)},function(t){q[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class bo extends nt{constructor(t){super(),et(this,t,vo,yo,l,{name:0,config:1,index:2,height:3})}}function wo(t){let e,n,o,i,s,c,l,u,p,g,y,b,k,C;return{c(){e=m("div"),n=m("label"),n.textContent="What is the variable name?",o=v(),i=m("input"),s=v(),c=m("label"),c.textContent="Have a link?",l=v(),u=m("input"),p=v(),g=m("label"),g.textContent="What port to open on click?",y=v(),b=m("input"),x(n,"for","Variable"),x(n,"class","componentLabel svelte-rqnqoj"),x(i,"id","Variable"),x(i,"type","text"),x(i,"class","componentInput svelte-rqnqoj"),x(c,"for","Link"),x(c,"class","componentLabel svelte-rqnqoj"),x(u,"id","Link"),x(u,"type","checkbox"),x(u,"class","componentInput svelte-rqnqoj"),x(g,"for","Port"),x(g,"class","componentLabel svelte-rqnqoj"),x(b,"id","Port"),x(b,"type","text"),x(b,"class","componentInput svelte-rqnqoj"),x(e,"class","IPAddressConfig svelte-rqnqoj")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),_(i,t[0].flowVar),h(e,s),h(e,c),h(e,l),h(e,u),u.checked=t[0].showLink,h(e,p),h(e,g),h(e,y),h(e,b),_(b,t[0].port),k||(C=[w(i,"input",t[2]),w(i,"change",t[1]),w(u,"change",t[3]),w(u,"change",t[1]),w(b,"input",t[4]),w(b,"change",t[1])],k=!0)},p(t,[e]){1&e&&i.value!==t[0].flowVar&&_(i,t[0].flowVar),1&e&&(u.checked=t[0].showLink),1&e&&b.value!==t[0].port&&_(b,t[0].port)},i:r,o:r,d(t){t&&d(e),k=!1,a(C)}}}function xo(t,e,n){const o=L();let{config:r}=e;return t.$$set=t=>{"config"in t&&n(0,r=t.config)},[r,function(t){console.log(r.showLink),o("change",{flowVar:r.flowVar,showLink:r.showLink,port:parseInt(r.port,10)})},function(){r.flowVar=this.value,n(0,r)},function(){r.showLink=this.checked,n(0,r)},function(){r.port=this.value,n(0,r)}]}class ko extends nt{constructor(t){super(),et(this,t,xo,wo,l,{config:0})}}function _o(t){let e,n;return{c(){e=m("p"),n=y(t[5]),x(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize)},m(t,o){f(t,e,o),h(e,n)},p(t,o){32&o&&k(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize)},d(t){t&&d(e)}}}function Co(t){let e,n,o,r;return{c(){e=m("p"),n=y(t[5]),x(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),C(e,"cursor","pointer"),x(e,"data-index",t[2])},m(i,s){f(i,e,s),h(e,n),o||(r=w(e,"click",t[12]),o=!0)},p(t,o){32&o&&k(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&x(e,"data-index",t[2])},d(t){t&&d(e),o=!1,r()}}}function $o(t){let e,n,o,i,s,c;function l(t,e){return t[1].showLink?Co:_o}let u=l(t),p=u(t);return{c(){e=m("div"),n=m("p"),o=y(t[0]),i=v(),p.c(),x(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[6].fontSize),x(n,"data-index",t[2]),x(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[3])+"px"),x(e,"data-index",t[2])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),p.m(e,null),t[17](e),s||(c=[w(n,"dblclick",t[10]),w(n,"contextmenu",t[11]),w(e,"mouseenter",t[13]),w(e,"mouseleave",t[14]),w(e,"mouseout",t[15]),w(e,"blur",t[16])],s=!0)},p(t,[r]){1&r&&k(o,t[0]),64&r&&C(n,"font-size",t[6].fontSize),4&r&&x(n,"data-index",t[2]),u===(u=l(t))&&p?p.p(t,r):(p.d(1),p=u(t),p&&(p.c(),p.m(e,null))),8&r&&C(e,"height",Math.floor(t[3])+"px"),4&r&&x(e,"data-index",t[2])},i:r,o:r,d(n){n&&d(e),p.d(),t[17](null),s=!1,a(c)}}}function Bo(t,e,n){let o;u(t,Bn,(t=>n(6,o=t)));let r,{name:i}=e,{config:s}=e,{index:a}=e,{height:c}=e,l="loading...",p="";const h=L();function f(){fetch("http://localhost:9978/api/getip").then((t=>t.json())).then((t=>{null!==t&&(void 0!==t.ip&&n(5,l=t.ip),p="http://"+l,0!==parseInt(s.port)&&(p+=":"+s.port))}))}function d(){s.showLink&&backend.writeClipboard(p)}function g(){h("middleButton",{index:a,dom:r})}T((()=>{f()}));return t.$$set=t=>{"name"in t&&n(0,i=t.name),"config"in t&&n(1,s=t.config),"index"in t&&n(2,a=t.index),"height"in t&&n(3,c=t.height)},t.$$.update=()=>{4&t.$$.dirty&&f()},[i,s,a,c,r,l,o,h,d,g,t=>{h("dblclick",{})},t=>{t.preventDefault(),g()},t=>{d()},()=>{n(4,r.style.color=o.highlight,r)},()=>{n(4,r.style.color=o.textcolor,r)},()=>{n(4,r.style.color=o.textcolor,r)},()=>{n(4,r.style.color=o.textcolor,r)},function(t){q[t?"unshift":"push"]((()=>{r=t,n(4,r)}))}]}class So extends nt{constructor(t){super(),et(this,t,Bo,$o,l,{name:0,config:1,index:2,height:3})}}function Ao(t){let e,n,o,i,s,c,l,u,p,g;return{c(){e=m("div"),n=m("label"),n.textContent="Have a link?",o=v(),i=m("input"),s=v(),c=m("label"),c.textContent="What port to open on click?",l=v(),u=m("input"),x(n,"for","Name"),x(n,"class","componentLabel svelte-2ope4y"),x(i,"id","Name"),x(i,"type","checkbox"),x(i,"class","componentInput svelte-2ope4y"),x(c,"for","Port"),x(c,"class","componentLabel svelte-2ope4y"),x(u,"id","Port"),x(u,"type","text"),x(u,"class","componentInput svelte-2ope4y"),x(e,"class","IntIPAddressConfig svelte-2ope4y")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),i.checked=t[0].showLink,h(e,s),h(e,c),h(e,l),h(e,u),_(u,t[0].port),p||(g=[w(i,"change",t[2]),w(i,"change",t[1]),w(u,"input",t[3]),w(u,"change",t[1])],p=!0)},p(t,[e]){1&e&&(i.checked=t[0].showLink),1&e&&u.value!==t[0].port&&_(u,t[0].port)},i:r,o:r,d(t){t&&d(e),p=!1,a(g)}}}function Eo(t,e,n){const o=L();let{config:r}=e;return t.$$set=t=>{"config"in t&&n(0,r=t.config)},[r,function(t){o("change",{showLink:r.showLink,port:parseInt(r.port,10)})},function(){r.showLink=this.checked,n(0,r)},function(){r.port=this.value,n(0,r)}]}class No extends nt{constructor(t){super(),et(this,t,Eo,Ao,l,{config:0})}}var To=st((function(t,e){!function(t,n){if("string"!=typeof e.nodeName)n(e);else{var o={};n(o),t.AnsiUp=o.default}}(ot,(function(t){var e,n=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};!function(t){t[t.EOS=0]="EOS",t[t.Text=1]="Text",t[t.Incomplete=2]="Incomplete",t[t.ESC=3]="ESC",t[t.Unknown=4]="Unknown",t[t.SGR=5]="SGR",t[t.OSCURL=6]="OSCURL"}(e||(e={}));var o=function(){function t(){this.VERSION="5.0.1",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(t.prototype,"use_classes",{get:function(){return this._use_classes},set:function(t){this._use_classes=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(t){this._url_whitelist=t},enumerable:!1,configurable:!0}),t.prototype.setup_palettes=function(){var t=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(e){e.forEach((function(e){t.palette_256.push(e)}))}));for(var e=[0,95,135,175,215,255],n=0;n<6;++n)for(var o=0;o<6;++o)for(var r=0;r<6;++r){var i={rgb:[e[n],e[o],e[r]],class_name:"truecolor"};this.palette_256.push(i)}for(var s=8,a=0;a<24;++a,s+=10){var c={rgb:[s,s,s],class_name:"truecolor"};this.palette_256.push(c)}},t.prototype.escape_txt_for_html=function(t){return t.replace(/[&<>"']/gm,(function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#x27;":void 0}))},t.prototype.append_buffer=function(t){var e=this._buffer+t;this._buffer=e},t.prototype.get_next_packet=function(){var t={kind:e.EOS,text:"",url:""},o=this._buffer.length;if(0==o)return t;var i=this._buffer.indexOf("");if(-1==i)return t.kind=e.Text,t.text=this._buffer,this._buffer="",t;if(i>0)return t.kind=e.Text,t.text=this._buffer.slice(0,i),this._buffer=this._buffer.slice(i),t;if(0==i){if(1==o)return t.kind=e.Incomplete,t;var s=this._buffer.charAt(1);if("["!=s&&"]"!=s)return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if("["==s){if(this._csi_regex||(this._csi_regex=r(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          [                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          [                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(l=this._buffer.match(this._csi_regex)))return t.kind=e.Incomplete,t;if(l[4])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;""!=l[1]||"m"!=l[3]?t.kind=e.Unknown:t.kind=e.SGR,t.text=l[2];var a=l[0].length;return this._buffer=this._buffer.slice(a),t}if("]"==s){if(o<4)return t.kind=e.Incomplete,t;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=o.replace(r,"");return new RegExp(i,"g")}(n(["\n                        (?:                         # legal sequence\n                          (\\)                    # ESC                           |                           # alternate\n                          ()                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-]                 # anything illegal\n                          |                           # alternate\n                          [\b-]                 # anything illegal\n                          |                           # alternate\n                          [-]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var c=this._osc_st.exec(this._buffer);if(null===c)return t.kind=e.Incomplete,t;if(c[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;var l,u=this._osc_st.exec(this._buffer);if(null===u)return t.kind=e.Incomplete,t;if(u[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(this._osc_regex||(this._osc_regex=r(n(["\n                        ^                           # beginning of line\n                                                    #\n                        ]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        ]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(l=this._buffer.match(this._osc_regex)))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=e.OSCURL,t.url=l[1],t.text=l[2];a=l[0].length;return this._buffer=this._buffer.slice(a),t}}},t.prototype.ansi_to_html=function(t){this.append_buffer(t);for(var n=[];;){var o=this.get_next_packet();if(o.kind==e.EOS||o.kind==e.Incomplete)break;o.kind!=e.ESC&&o.kind!=e.Unknown&&(o.kind==e.Text?n.push(this.transform_to_html(this.with_state(o))):o.kind==e.SGR?this.process_ansi(o):o.kind==e.OSCURL&&n.push(this.process_hyperlink(o)))}return n.join("")},t.prototype.with_state=function(t){return{bold:this.bold,fg:this.fg,bg:this.bg,text:t.text}},t.prototype.process_ansi=function(t){for(var e=t.text.split(";");e.length>0;){var n=e.shift(),o=parseInt(n,10);if(isNaN(o)||0===o)this.fg=this.bg=null,this.bold=!1;else if(1===o)this.bold=!0;else if(22===o)this.bold=!1;else if(39===o)this.fg=null;else if(49===o)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((38===o||48===o)&&e.length>0){var r=38===o,i=e.shift();if("5"===i&&e.length>0){var s=parseInt(e.shift(),10);s>=0&&s<=255&&(r?this.fg=this.palette_256[s]:this.bg=this.palette_256[s])}if("2"===i&&e.length>2){var a=parseInt(e.shift(),10),c=parseInt(e.shift(),10),l=parseInt(e.shift(),10);if(a>=0&&a<=255&&c>=0&&c<=255&&l>=0&&l<=255){var u={rgb:[a,c,l],class_name:"truecolor"};r?this.fg=u:this.bg=u}}}}},t.prototype.transform_to_html=function(t){var e=t.text;if(0===e.length)return e;if(e=this.escape_txt_for_html(e),!t.bold&&null===t.fg&&null===t.bg)return e;var n=[],o=[],r=t.fg,i=t.bg;t.bold&&n.push("font-weight:bold"),this._use_classes?(r&&("truecolor"!==r.class_name?o.push(r.class_name+"-fg"):n.push("color:rgb("+r.rgb.join(",")+")")),i&&("truecolor"!==i.class_name?o.push(i.class_name+"-bg"):n.push("background-color:rgb("+i.rgb.join(",")+")"))):(r&&n.push("color:rgb("+r.rgb.join(",")+")"),i&&n.push("background-color:rgb("+i.rgb+")"));var s="",a="";return o.length&&(s=' class="'+o.join(" ")+'"'),n.length&&(a=' style="'+n.join(";")+'"'),"<span"+a+s+">"+e+"</span>"},t.prototype.process_hyperlink=function(t){var e=t.url.split(":");return e.length<1?"":this._url_whitelist[e[0]]?'<a href="'+this.escape_txt_for_html(t.url)+'">'+this.escape_txt_for_html(t.text)+"</a>":""},t}();function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=o.replace(r,"");return new RegExp(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}))})),Lo=rt(To);function Io(t){let e;return{c(){e=y(t[4])},m(t,n){f(t,e,n)},p(t,n){16&n&&k(e,t[4])},d(t){t&&d(e)}}}function qo(t){let e,n;return{c(){e=new S,n=b(),e.a=n},m(o,r){e.m(t[4],o,r),f(o,n,r)},p(t,n){16&n&&e.p(t[4])},d(t){t&&d(n),t&&e.d()}}}function Oo(t){let e,n,o,i,s,c,l;function u(t,e){return t[5]?qo:Io}let p=u(t),g=p(t);return{c(){e=m("div"),n=m("span"),o=y(t[0]),i=v(),s=m("span"),g.c(),x(n,"class","scriptName svelte-13lhzn2"),x(s,"class","scriptValue svelte-13lhzn2"),x(e,"class","script svelte-13lhzn2"),C(e,"height",Math.floor(t[2])+"px"),x(e,"data-index",t[1])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),h(e,s),g.m(s,null),t[13](e),c||(l=[w(n,"dblclick",t[11]),w(s,"click",t[12]),w(e,"mouseenter",t[14]),w(e,"mouseleave",t[15]),w(e,"mouseout",t[16]),w(e,"blur",t[17]),w(e,"contextmenu",t[18])],c=!0)},p(t,[n]){1&n&&k(o,t[0]),p===(p=u(t))&&g?g.p(t,n):(g.d(1),g=p(t),g&&(g.c(),g.m(s,null))),4&n&&C(e,"height",Math.floor(t[2])+"px"),2&n&&x(e,"data-index",t[1])},i:r,o:r,d(n){n&&d(e),g.d(),t[13](null),c=!1,a(l)}}}function jo(t,e,n){let o;u(t,Bn,(t=>n(6,o=t)));let r,{name:i}=e,{config:s={script:"",env:"",envVar:"",commandLine:"",type:"",scriptImage:"",appBackground:o.appBackground,highlight:o.highlight}}=e,{index:a}=e,{height:c}=e,l="loading...",p="<h1>Loading...</h1>",h=!1,f={changeColor:!1,width:300,height:300,showButton:!0};const d=L();function g(){var t=JSON.stringify({script:s.script,text:s.commandLine,env:s.env,envVar:s.envVar,commandLine:s.commandLine});fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:t}).then((t=>t.json())).then((t=>{null!==t&&function(t){f.showButton=!0,"generic"===s.type?p="<p>"+t.text+"</p>":"bitbar"===s.type?p=t.text:"textbar"===s.type?p=function(t){var e="",o="",r=10,i=null;f={},f.height=10;var a=1,c=!1,u=!1,p=new Lo;f.showButton=!0,t=String(t),globalThis.ScriptClick=(t,e,n,o,r)=>{var i=[];i.TEXTBAR_INDEX=t,i.TEXTBAR_TEXT=e;var s=JSON.stringify({script:n.trim(),text:o.trim(),env:r.trim(),envVar:{...i},commandLine:o.trim()});fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:s}).then((t=>t.json())).then((t=>{null!==t&&globalThis.closeWebView()}))},t=t.split(/\r?\n/),n(4,l=s.scriptImage+t[0]),t.slice(1).forEach((t=>{if(""!==t.trim()){var d=(t=new String(t)).includes("----TEXTBAR----");if(d||u)if(d)u=!0;else{var g=t.split("=");switch(g[0]){case"REFRESH":break;case"VIEWTYPE":if("HTML"===g[1])i=o,f.showButton=!0;else i=e,f.showButton=!1;break;case"VIEWSIZE":var m=g[1].split(",");f.width=parseInt(m[0],10),f.height=parseInt(m[1],10),c=!0;break;case"IMAGE":":"===g[1][0]?(n(4,l='<img src="'+g[1].slice(1)+'" />'),n(5,h=!0)):n(4,l=g[1]),f.showButton=!0}}else{o+=t;var y="",v="";if(null!==t.match(/\[\d+(\:\d+)*m/)){var b=t.replace(/\\e/g,"");y=(y=p.ansi_to_html(b)).replace(/\[\d+(\:\d+)*m/g,""),v=t.replace(/\\e/g,"").replace(/\[\d+((\:|\;)\d+)*m/g,"")}else y=t.replace(/ /g,"&nbsp;"),v=t;v=new String(v),r<v.length&&(r=v.length),":"===t[t.length-1]?e+='<p style="margin: 0px; padding: 0px 0px 0px 0px; height: 20px; white-space: nowrap;">'+y+"</p>":e+=`<p style="margin: 0px; padding: 0px 0px 0px 5px; height: 20px; border: 0px solid transparent; border-radius: 5px; white-space: nowrap;" \n                              onclick="globalThis.ScriptClick(${a},'${t}','${s.script}', '${s.commandLine}', '${s.env}')"\n                              onmouseenter="window.setLineColorNew(this)"\n                              onmouseleave="window.setLineColor(this)"\n                              onblur="window.setLineColor(this)"\n                            >\n                              ${y}\n                            </p>`}a+=1}})),c?f.changeColor=!1:(f.changeColor=!0,f.backgroundColor=s.appBackground,f.highlightColor=s.highlight);null===i&&(i=e);return i}(t.text):"web"===s.type&&(p=t.text)}(t)}))}function m(){d("middleButton",{index:a,dom:r})}function y(){"string"!=typeof l||l.includes("loading...")||d("changeView",{name:"webview",body:{html:p,config:f}})}T((()=>{g()}));return t.$$set=t=>{"name"in t&&n(0,i=t.name),"config"in t&&n(10,s=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,c=t.height)},t.$$.update=()=>{2&t.$$.dirty&&g()},[i,a,c,r,l,h,o,d,m,y,s,t=>{d("dblclick",{})},t=>{y()},function(t){q[t?"unshift":"push"]((()=>{r=t,n(3,r)}))},()=>{n(3,r.style.color=o.highlight,r)},()=>{n(3,r.style.color=o.textcolor,r)},()=>{n(3,r.style.color=o.textcolor,r)},()=>{n(3,r.style.color=o.textcolor,r)},t=>{t.preventDefault(),m()}]}class Ro extends nt{constructor(t){super(),et(this,t,jo,Oo,l,{name:0,config:10,index:1,height:2})}}function Po(t){let e,n,o,r,i,s,c,l,u,p,h,g,y;return{c(){e=m("label"),e.textContent="What emoji?",n=v(),o=m("input"),r=v(),i=m("label"),i.textContent="What Highlight color?",s=v(),c=m("input"),l=v(),u=m("label"),u.textContent="What background color?",p=v(),h=m("input"),x(e,"for","ScriptIcon"),x(e,"class","componentLabel svelte-1097m2q"),x(o,"id","ScriptIcon"),x(o,"type","text"),x(o,"class","componentInput svelte-1097m2q"),x(i,"for","ScriptHigh"),x(i,"class","componentLabel svelte-1097m2q"),x(c,"id","ScriptHigh"),x(c,"type","text"),x(c,"class","componentInput svelte-1097m2q"),x(u,"for","ScriptBack"),x(u,"class","componentLabel svelte-1097m2q"),x(h,"id","ScriptBack"),x(h,"type","text"),x(h,"class","componentInput svelte-1097m2q")},m(a,d){f(a,e,d),f(a,n,d),f(a,o,d),_(o,t[0].scriptImage),f(a,r,d),f(a,i,d),f(a,s,d),f(a,c,d),_(c,t[0].highlight),f(a,l,d),f(a,u,d),f(a,p,d),f(a,h,d),_(h,t[0].appBackground),g||(y=[w(o,"input",t[12]),w(o,"change",t[13]),w(c,"input",t[14]),w(c,"change",t[15]),w(h,"input",t[16]),w(h,"change",t[17])],g=!0)},p(t,e){1&e&&o.value!==t[0].scriptImage&&_(o,t[0].scriptImage),1&e&&c.value!==t[0].highlight&&_(c,t[0].highlight),1&e&&h.value!==t[0].appBackground&&_(h,t[0].appBackground)},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(r),t&&d(i),t&&d(s),t&&d(c),t&&d(l),t&&d(u),t&&d(p),t&&d(h),g=!1,a(y)}}}function Mo(t){let e,n,o,i,s,c,l,u,p,g,y,b,k,C,B,S,A,E,N,T,L,I,q,O,j,R,P,M="textbar"===t[0].type&&Po(t);return{c(){e=m("div"),n=m("label"),n.textContent="What is the name of the script?",o=v(),i=m("input"),s=v(),c=m("label"),c.textContent="What is the command line?",l=v(),u=m("input"),p=v(),g=m("label"),g.textContent="What is the name of the environment?",y=v(),b=m("input"),k=v(),C=m("label"),C.textContent="What environment variables?",B=v(),S=m("input"),A=v(),E=m("label"),E.textContent="What type of script?",N=v(),T=m("select"),L=m("option"),L.textContent="TextBar",I=m("option"),I.textContent="BitBar",q=m("option"),q.textContent="Generic",O=m("option"),O.textContent="Web Page",j=v(),M&&M.c(),x(n,"for","Name"),x(n,"class","componentLabel svelte-1097m2q"),x(i,"id","Name"),x(i,"type","text"),x(i,"class","componentInput svelte-1097m2q"),x(c,"for","CommandLine"),x(c,"class","componentLabel svelte-1097m2q"),x(u,"id","CommandLine"),x(u,"type","text"),x(u,"class","componentInput svelte-1097m2q"),x(g,"for","Env"),x(g,"class","componentLabel svelte-1097m2q"),x(b,"id","Env"),x(b,"type","text"),x(b,"class","componentInput svelte-1097m2q"),x(C,"for","EnvVar"),x(C,"class","componentLabel svelte-1097m2q"),x(S,"id","EnvVar"),x(S,"type","text"),x(S,"class","componentInput svelte-1097m2q"),x(E,"for","Type"),x(E,"class","componentLabel svelte-1097m2q"),L.__value="textbar",L.value=L.__value,I.__value="bitbar",I.value=I.__value,q.__value="generic",q.value=q.__value,O.__value="web",O.value=O.__value,x(T,"id","Type"),x(T,"class","componentInput svelte-1097m2q"),void 0===t[0].type&&D((()=>t[10].call(T))),x(e,"id","ScriptConfig"),x(e,"class","svelte-1097m2q")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),_(i,t[0].script),h(e,s),h(e,c),h(e,l),h(e,u),_(u,t[0].commandLine),h(e,p),h(e,g),h(e,y),h(e,b),_(b,t[0].env),h(e,k),h(e,C),h(e,B),h(e,S),_(S,t[0].envVar),h(e,A),h(e,E),h(e,N),h(e,T),h(T,L),h(T,I),h(T,q),h(T,O),$(T,t[0].type),h(e,j),M&&M.m(e,null),R||(P=[w(i,"input",t[2]),w(i,"change",t[3]),w(u,"input",t[4]),w(u,"change",t[5]),w(b,"input",t[6]),w(b,"change",t[7]),w(S,"input",t[8]),w(S,"change",t[9]),w(T,"change",t[10]),w(T,"blur",t[11])],R=!0)},p(t,[n]){1&n&&i.value!==t[0].script&&_(i,t[0].script),1&n&&u.value!==t[0].commandLine&&_(u,t[0].commandLine),1&n&&b.value!==t[0].env&&_(b,t[0].env),1&n&&S.value!==t[0].envVar&&_(S,t[0].envVar),1&n&&$(T,t[0].type),"textbar"===t[0].type?M?M.p(t,n):(M=Po(t),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i:r,o:r,d(t){t&&d(e),M&&M.d(),R=!1,a(P)}}}function zo(t,e,n){let o;u(t,Bn,(t=>n(18,o=t)));const r=L();let{config:i={script:"",env:"",envVar:"",commandLine:"",scriptImage:"",highlight:o.highlight,appBackground:o.backgroundColor}}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,r,function(){i.script=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.commandLine=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.env=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.envVar=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.type=B(this),n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.scriptImage=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.highlight=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})},function(){i.appBackground=this.value,n(0,i)},()=>{r("change",{script:i.script,env:i.env,envVar:i.envVar,commandLine:i.commandLine,type:i.type,scriptImage:i.scriptImage,highlight:i.highlight,appBackground:i.appBackground})}]}class Do extends nt{constructor(t){super(),et(this,t,zo,Mo,l,{config:0})}}function Uo(t){let e,n,o,i,s,c,l;return{c(){e=m("div"),n=m("span"),o=y(t[0]),i=v(),s=m("span"),s.textContent="",x(n,"class","name svelte-1yfcj8v"),x(s,"class","weblinklink svelte-1yfcj8v"),x(e,"class","main svelte-1yfcj8v"),C(e,"height",Math.floor(t[2])+"px"),x(e,"data-index",t[1])},m(r,a){f(r,e,a),h(e,n),h(n,o),h(e,i),h(e,s),t[16](e),c||(l=[w(n,"dblclick",t[9]),w(s,"click",t[10]),w(e,"contextmenu",t[11]),w(e,"mouseenter",t[12]),w(e,"mouseleave",t[13]),w(e,"mouseout",t[14]),w(e,"blur",t[15])],c=!0)},p(t,[n]){1&n&&k(o,t[0]),4&n&&C(e,"height",Math.floor(t[2])+"px"),2&n&&x(e,"data-index",t[1])},i:r,o:r,d(n){n&&d(e),t[16](null),c=!1,a(l)}}}function Vo(t,e,n){let o;u(t,Bn,(t=>n(4,o=t)));let r,{name:i}=e,{config:s}=e,{index:a}=e,{height:c}=e;const l=L();async function p(){await z(),void 0===typeof r||r==={}?console.log("No dom"):l("middleButton",{index:a,dom:r})}function h(){window.wails.Browser.OpenURL(s.link)}return t.$$set=t=>{"name"in t&&n(0,i=t.name),"config"in t&&n(8,s=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,c=t.height)},[i,a,c,r,o,l,p,h,s,t=>{t.preventDefault(),l("dblclick",{})},t=>{h()},t=>{t.preventDefault(),p()},()=>{n(3,r.style.color=o.highlight,r)},()=>{n(3,r.style.color=o.textcolor,r)},()=>{n(3,r.style.color=o.textcolor,r)},()=>{n(3,r.style.color=o.textcolor,r)},function(t){q[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}class Ho extends nt{constructor(t){super(),et(this,t,Vo,Uo,l,{name:0,config:8,index:1,height:2})}}function Wo(t){let e,n,o,i,s,c;return{c(){e=m("div"),n=m("label"),n.textContent="What is the link address?",o=v(),i=m("input"),x(n,"for","LinkAddress"),x(n,"class","componentLabel svelte-12qnvtk"),x(i,"id","LinkAddress"),x(i,"type","text"),x(i,"class","componentInput svelte-12qnvtk"),x(e,"class","WebLinkConfig svelte-12qnvtk")},m(r,a){f(r,e,a),h(e,n),h(e,o),h(e,i),_(i,t[0].link),s||(c=[w(i,"input",t[2]),w(i,"change",t[3])],s=!0)},p(t,[e]){1&e&&i.value!==t[0].link&&_(i,t[0].link)},i:r,o:r,d(t){t&&d(e),s=!1,a(c)}}}function Fo(t,e,n){let{config:o}=e;const r=L();return t.$$set=t=>{"config"in t&&n(0,o=t.config)},[o,r,function(){o.link=this.value,n(0,o)},()=>{r("change",{link:o.link,browser:o.browser})}]}class Jo extends nt{constructor(t){super(),et(this,t,Fo,Wo,l,{config:0})}}function Xo(t,e,n){const o=t.slice();return o[67]=e[n],o[69]=n,o}function Yo(t,e,n){const o=t.slice();return o[70]=e[n],o[71]=e,o[69]=n,o}function Ko(t){let e,n,o,r,i,s,c,l,u,p,y,b,k,_,C,$=t[8]&&Qo(t),B=t[10]&&nr(t),S=t[0],A=[];for(let e=0;e<S.length;e+=1)A[e]=ar(Yo(t,S,e));const E=t=>G(A[t],1,1,(()=>{A[t]=null}));let N=t[1].length>0&&cr(t);return{c(){$&&$.c(),e=v(),B&&B.c(),n=v(),o=m("div"),r=m("p"),r.textContent="+",i=v(),s=m("p"),s.textContent="X",c=v(),l=m("div");for(let t=0;t<A.length;t+=1)A[t].c();u=v(),p=m("div"),p.innerHTML='<span id="addTabText" class="svelte-ccpnqa">+</span>',y=v(),b=m("div"),N&&N.c(),x(r,"id","addControl"),x(r,"class","svelte-ccpnqa"),x(s,"id","closeControl"),x(s,"class","svelte-ccpnqa"),x(o,"id","controls"),x(o,"class","svelte-ccpnqa"),x(p,"id","addTab"),x(p,"class","tab svelte-ccpnqa"),x(l,"id","tabs"),x(l,"class","svelte-ccpnqa"),x(b,"id","componentList"),x(b,"class","svelte-ccpnqa")},m(a,d){$&&$.m(a,d),f(a,e,d),B&&B.m(a,d),f(a,n,d),f(a,o,d),h(o,r),h(o,i),h(o,s),f(a,c,d),f(a,l,d);for(let t=0;t<A.length;t+=1)A[t].m(l,null);h(l,u),h(l,p),f(a,y,d),f(a,b,d),N&&N.m(b,null),k=!0,_||(C=[w(r,"click",t[40]),w(s,"click",pr),w(p,"click",t[46])],_=!0)},p(t,o){if(t[8]?$?$.p(t,o):($=Qo(t),$.c(),$.m(e.parentNode,e)):$&&($.d(1),$=null),t[10]?B?B.p(t,o):(B=nr(t),B.c(),B.m(n.parentNode,n)):B&&(B.d(1),B=null),25182273&o[0]){let e;for(S=t[0],e=0;e<S.length;e+=1){const n=Yo(t,S,e);A[e]?(A[e].p(n,o),K(A[e],1)):(A[e]=ar(n),A[e].c(),K(A[e],1),A[e].m(l,u))}for(X(),e=S.length;e<A.length;e+=1)E(e);Y()}t[1].length>0?N?(N.p(t,o),2&o[0]&&K(N,1)):(N=cr(t),N.c(),K(N,1),N.m(b,null)):N&&(X(),G(N,1,1,(()=>{N=null})),Y())},i(t){if(!k){for(let t=0;t<S.length;t+=1)K(A[t]);K(N),k=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)G(A[t]);G(N),k=!1},d(t){$&&$.d(t),t&&d(e),B&&B.d(t),t&&d(n),t&&d(o),t&&d(c),t&&d(l),g(A,t),t&&d(y),t&&d(b),N&&N.d(),_=!1,a(C)}}}function Go(t){let e,n,o,r,i,s,a,c;return i=new Rn({props:{widget:t[5]}}),i.$on("editComponent",t[17]),i.$on("deleteComponent",t[18]),{c(){e=m("div"),n=m("div"),o=m("p"),o.textContent="X",r=v(),Z(i.$$.fragment),x(o,"id","closeEditDialogControl"),x(o,"class","svelte-ccpnqa"),x(n,"id","editDialogControls"),x(n,"class","svelte-ccpnqa"),x(e,"id","editDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),x(e,"class","svelte-ccpnqa")},m(l,u){f(l,e,u),h(e,n),h(n,o),h(e,r),Q(i,e,null),s=!0,a||(c=w(o,"click",t[34]),a=!0)},p(t,n){const o={};32&n[0]&&(o.widget=t[5]),i.$set(o),(!s||8192&n[0])&&C(e,"background-color",t[13].appBackground),(!s||8192&n[0])&&C(e,"color",t[13].textcolor),(!s||8192&n[0])&&C(e,"font-family",t[13].fontFamily),(!s||8192&n[0])&&C(e,"font-size",t[13].fontSize)},i(t){s||(K(i.$$.fragment,t),s=!0)},o(t){G(i.$$.fragment,t),s=!1},d(t){t&&d(e),tt(i),a=!1,c()}}}function Zo(t){let e,n,o,r,i,s,a,c;return i=new In({props:{types:t[2]}}),i.$on("addNewComponent",t[15]),{c(){e=m("div"),n=m("div"),o=m("p"),o.textContent="X",r=v(),Z(i.$$.fragment),x(o,"id","closeAddDialogControl"),x(o,"class","svelte-ccpnqa"),x(n,"id","addDialogControls"),x(n,"class","svelte-ccpnqa"),x(e,"id","addDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),x(e,"class","svelte-ccpnqa")},m(l,u){f(l,e,u),h(e,n),h(n,o),h(e,r),Q(i,e,null),s=!0,a||(c=w(o,"click",t[33]),a=!0)},p(t,n){const o={};4&n[0]&&(o.types=t[2]),i.$set(o),(!s||8192&n[0])&&C(e,"background-color",t[13].appBackground),(!s||8192&n[0])&&C(e,"color",t[13].textcolor),(!s||8192&n[0])&&C(e,"font-family",t[13].fontFamily),(!s||8192&n[0])&&C(e,"font-size",t[13].fontSize)},i(t){s||(K(i.$$.fragment,t),s=!0)},o(t){G(i.$$.fragment,t),s=!1},d(t){t&&d(e),tt(i),a=!1,c()}}}function Qo(t){let e,n,o,r,i,s,a=0!==t[6]&&tr(t),c=t[6]!==t[0].length-1&&er(t);return{c(){e=m("div"),a&&a.c(),n=v(),c&&c.c(),o=v(),r=m("p"),r.textContent="Delete",x(r,"class","ContainerMenuItem svelte-ccpnqa"),x(e,"id","containerMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),C(e,"left",Math.floor(t[9].x+t[9].width/2)+"px"),x(e,"class","svelte-ccpnqa")},m(l,u){f(l,e,u),a&&a.m(e,null),h(e,n),c&&c.m(e,null),h(e,o),h(e,r),i||(s=w(r,"click",t[37]),i=!0)},p(t,r){0!==t[6]?a?a.p(t,r):(a=tr(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[6]!==t[0].length-1?c?c.p(t,r):(c=er(t),c.c(),c.m(e,o)):c&&(c.d(1),c=null),8192&r[0]&&C(e,"background-color",t[13].appBackground),512&r[0]&&C(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),512&r[0]&&C(e,"left",Math.floor(t[9].x+t[9].width/2)+"px")},d(t){t&&d(e),a&&a.d(),c&&c.d(),i=!1,s()}}}function tr(t){let e,n,o;return{c(){e=m("p"),e.textContent="Move Left",x(e,"class","ContainerMenuItem svelte-ccpnqa")},m(r,i){f(r,e,i),n||(o=w(e,"click",t[35]),n=!0)},p:r,d(t){t&&d(e),n=!1,o()}}}function er(t){let e,n,o;return{c(){e=m("p"),e.textContent="Move Right",x(e,"class","ContainerMenuItem svelte-ccpnqa")},m(r,i){f(r,e,i),n||(o=w(e,"click",t[36]),n=!0)},p:r,d(t){t&&d(e),n=!1,o()}}}function nr(t){let e,n,o=0!==t[7]&&or(t),r=t[7]!==t[1].length-1&&rr(t);return{c(){e=m("div"),o&&o.c(),n=v(),r&&r.c(),x(e,"id","ComponentMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[11].y)+"px"),C(e,"left","20px"),x(e,"class","svelte-ccpnqa")},m(t,i){f(t,e,i),o&&o.m(e,null),h(e,n),r&&r.m(e,null)},p(t,i){0!==t[7]?o?o.p(t,i):(o=or(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[7]!==t[1].length-1?r?r.p(t,i):(r=rr(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),8192&i[0]&&C(e,"background-color",t[13].appBackground),2048&i[0]&&C(e,"top",Math.floor(t[11].y)+"px")},d(t){t&&d(e),o&&o.d(),r&&r.d()}}}function or(t){let e,n,o;return{c(){e=m("p"),e.textContent="Up",x(e,"class","ComponentMenuItem svelte-ccpnqa")},m(r,i){f(r,e,i),n||(o=w(e,"click",t[38]),n=!0)},p:r,d(t){t&&d(e),n=!1,o()}}}function rr(t){let e,n,o;return{c(){e=m("p"),e.textContent="Down",x(e,"class","ComponentMenuItem svelte-ccpnqa")},m(r,i){f(r,e,i),n||(o=w(e,"click",t[39]),n=!0)},p:r,d(t){t&&d(e),n=!1,o()}}}function ir(t){let e,n,o,i,s=t[70].name+"",a=t[71],c=t[69];function l(){return t[44](t[69])}const u=()=>t[45](e,a,c),p=()=>t[45](null,a,c);return{c(){e=m("div"),n=y(s),x(e,"class","tab svelte-ccpnqa")},m(t,r){f(t,e,r),h(e,n),u(),o||(i=w(e,"click",l),o=!0)},p(e,o){t=e,1&o[0]&&s!==(s=t[70].name+"")&&k(n,s),a===t[71]&&c===t[69]||(p(),a=t[71],c=t[69],u())},i:r,o:r,d(t){t&&d(e),p(),o=!1,i()}}}function sr(t){let e,n,o,r=t[71],i=t[69];n=new Un({props:{name:t[70].name}}),n.$on("nameChanged",t[41]),n.$on("middleButton",t[42]);const s=()=>t[43](e,r,i),a=()=>t[43](null,r,i);return{c(){e=m("div"),Z(n.$$.fragment),x(e,"class","activeTab svelte-ccpnqa")},m(t,r){f(t,e,r),Q(n,e,null),s(),o=!0},p(e,o){t=e;const c={};1&o[0]&&(c.name=t[70].name),n.$set(c),r===t[71]&&i===t[69]||(a(),r=t[71],i=t[69],s())},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){G(n.$$.fragment,t),o=!1},d(t){t&&d(e),tt(n),a()}}}function ar(t){let e,n,o,r;const i=[sr,ir],s=[];function a(t,e){return t[69]===t[6]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),o=b()},m(t,n){s[e].m(t,n),f(t,o,n),r=!0},p(t,r){let c=e;e=a(t),e===c?s[e].p(t,r):(X(),G(s[c],1,1,(()=>{s[c]=null})),Y(),n=s[e],n?n.p(t,r):(n=s[e]=i[e](t),n.c()),K(n,1),n.m(o.parentNode,o))},i(t){r||(K(n),r=!0)},o(t){G(n),r=!1},d(t){s[e].d(t),t&&d(o)}}}function cr(t){let e,n,o=t[1],r=[];for(let e=0;e<o.length;e+=1)r[e]=lr(Xo(t,o,e));const i=t=>G(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=b()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);f(t,e,o),n=!0},p(t,n){if(268500994&n[0]|1&n[1]){let s;for(o=t[1],s=0;s<o.length;s+=1){const i=Xo(t,o,s);r[s]?(r[s].p(i,n),K(r[s],1)):(r[s]=lr(i),r[s].c(),K(r[s],1),r[s].m(e.parentNode,e))}for(X(),s=o.length;s<r.length;s+=1)i(s);Y()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)K(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)G(r[t]);n=!1},d(t){g(r,t),t&&d(e)}}}function lr(t){let e,n,o;function r(){return t[47](t[67])}var i=t[67].widget;function s(t){return{props:{index:t[69],height:t[67].height,name:t[67].name,config:t[67].config}}}return i&&(e=new i(s(t)),e.$on("dblclick",r),e.$on("middleButton",t[48]),e.$on("changeView",t[49])),{c(){e&&Z(e.$$.fragment),n=b()},m(t,r){e&&Q(e,t,r),f(t,n,r),o=!0},p(o,a){t=o;const c={};if(2&a[0]&&(c.height=t[67].height),2&a[0]&&(c.name=t[67].name),2&a[0]&&(c.config=t[67].config),i!==(i=t[67].widget)){if(e){X();const t=e;G(t.$$.fragment,1,0,(()=>{tt(t,1)})),Y()}i?(e=new i(s(t)),e.$on("dblclick",r),e.$on("middleButton",t[48]),e.$on("changeView",t[49]),Z(e.$$.fragment),K(e.$$.fragment,1),Q(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(t){o||(e&&K(e.$$.fragment,t),o=!0)},o(t){e&&G(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&tt(e,t)}}}function ur(t){let e,n,o,r,i,s;e=new Jn({});const a=[Zo,Go,Ko],c=[];function l(t,e){return t[3]?0:t[4]?1:2}return r=l(t),i=c[r]=a[r](t),{c(){Z(e.$$.fragment),n=v(),o=m("div"),i.c(),x(o,"id","main"),C(o,"background-color",t[13].appBackground),C(o,"color",t[13].textcolor),C(o,"font-family",t[13].fontFamily),C(o,"font-size",t[13].fontSize),x(o,"class","svelte-ccpnqa")},m(i,a){Q(e,i,a),f(i,n,a),f(i,o,a),c[r].m(o,null),t[50](o),s=!0},p(t,e){let n=r;r=l(t),r===n?c[r].p(t,e):(X(),G(c[n],1,1,(()=>{c[n]=null})),Y(),i=c[r],i?i.p(t,e):(i=c[r]=a[r](t),i.c()),K(i,1),i.m(o,null)),(!s||8192&e[0])&&C(o,"background-color",t[13].appBackground),(!s||8192&e[0])&&C(o,"color",t[13].textcolor),(!s||8192&e[0])&&C(o,"font-family",t[13].fontFamily),(!s||8192&e[0])&&C(o,"font-size",t[13].fontSize)},i(t){s||(K(e.$$.fragment,t),K(i),s=!0)},o(t){G(e.$$.fragment,t),G(i),s=!1},d(i){tt(e,i),i&&d(n),i&&d(o),c[r].d(),t[50](null)}}}const pr=()=>{};function hr(t,e,n){let o,r,i,s,a,c;u(t,Hn,(t=>n(54,o=t))),u(t,Vn,(t=>n(55,r=t))),u(t,Sn,(t=>n(56,i=t))),u(t,Yn,(t=>n(57,s=t))),u(t,Xn,(t=>n(58,a=t))),u(t,Bn,(t=>n(13,c=t)));let l,h,f,d,g,m,y,v,{oldState:b}=e,w=[{name:"Info",widgets:[]}],x=[],k=!1,_=!1,C=0,$=!1,B=!1,S=null;const A=L();var E;async function I(){if(await z(),void 0!==y){var t=y.clientWidth,e=y.clientHeight+40;t<100&&(t=400),e<40&&(e=40),$&&x.length<3&&(e+=20*(3-x.length)),B&&x.length-d<3&&(e+=20*(x.length-d)),console.log("changing size..."),p(Vn,r=Math.floor(t/2),r),p(Hn,o=t,o),window.resizeTo(t,e)}}function O(t){n(1,x=[]),n(8,$=!1),n(10,B=!1),n(6,f=t),n(0,w[t].widgets=R(w[t].widgets),w)}function j(){fetch("http://localhost:9978/api/scriptbar/config/",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:w})})}function R(t){for(var e=0;e<t.length;e++){var o=l.find((n=>t[e].widgetName===n.moduleName));void 0!==o&&(t[e].widget=o.module,t[e].configWidget=o.config,t[e].configHeight=o.configHeight,t[e].id=C,C+=1,x.push(t[e]))}return n(0,w[f].widgets=x,w),x}function P(t){n(5,h=t),n(4,_=!0),n(8,$=!1),n(10,B=!1)}function M(){n(4,_=!1)}function D(){n(3,k=!0),n(8,$=!1),n(10,B=!1)}function U(){n(3,k=!1)}function V(){w.push({name:"New",widgets:[]}),n(0,w),j()}function H(t){n(0,w[f].name=t,w),n(0,w),j()}function W(){n(8,$=!$),$&&(n(10,B=!1),n(9,g=w[f].this.getBoundingClientRect()))}function F(){if(n(9,g=w[f-1].this.getBoundingClientRect()),0!==f){var t=w[f];n(6,f-=1),n(0,w[f+1]=w[f],w),n(0,w[f]=t,w)}n(0,w),j()}function J(){if(n(9,g=w[f+1].this.getBoundingClientRect()),f!==w.length-1){var t=w[f];n(6,f+=1),n(0,w[f-1]=w[f],w),n(0,w[f]=t,w)}n(0,w),j()}function X(){n(0,w=w.filter(((t,e)=>e!==f))),n(6,f=0),n(1,x=[]),n(0,w[f].widgets=R(w[f].widgets),w),n(1,x=w[f].widgets),j(),n(8,$=!1)}function Y(t){n(7,d=t.index),x.length>1&&(n(10,B=!B),B?(n(8,$=!1),v=t.dom,n(11,m=t.dom.firstChild.getBoundingClientRect())):(n(11,m={}),n(7,d=0),v=void 0))}function K(){if(0!==d){n(11,m=v.firstChild.getBoundingClientRect());var t=x[d];n(7,d-=1),n(1,x[d+1]=x[d],x),n(1,x[d]=t,x),n(0,w[f].widgets=x,w),j(),S=x,n(1,x=[]),n(10,B=!1)}}function G(){if(d!==x.length-1){n(11,m=v.firstChild.getBoundingClientRect());var t=x[d];n(7,d+=1),n(1,x[d-1]=x[d],x),n(1,x[d]=t,x),n(0,w[f].widgets=x,w),j(),S=x,n(1,x=[]),n(10,B=!1)}}function Z(t){t.scriptbar={container:f},A("changeView",t)}T((()=>{var t;n(2,l=[{moduleName:"FlowVariable",module:Zn,config:eo,configHeight:70},{moduleName:"Separator",module:ro,config:ao,configHeight:70},{moduleName:"BirthdayCounter",module:uo,config:fo,configHeight:70},{moduleName:"IPAddress",module:bo,config:ko,configHeight:194},{moduleName:"IntIPAddress",module:So,config:No,configHeight:124},{moduleName:"Script",module:Ro,config:Do,configHeight:333},{moduleName:"WebLink",module:Ho,config:Jo,configHeight:133}]),void 0!==(t=b)&&void 0!==t.container?(n(6,f=t.container),n(7,d=0)):(n(6,f=0),n(7,d=0)),fetch("http://localhost:9978/api/scriptbar/config/").then((t=>t.json())).then((t=>{n(0,w=t.config),n(1,x=[]),void 0!==w[f].widgets&&n(0,w[f].widgets=R(w[f].widgets),w),window.containers=w})),void 0!==s.port&&p(Xn,a=_n.connect("http://localhost:"+s.port),a),window.moveTo(400,-20),p(Sn,i=I,i)})),E=()=>{null!==S&&(n(1,x=R(S)),S=null),I()},N().$$.after_update.push(E);return t.$$set=t=>{"oldState"in t&&n(32,b=t.oldState)},[w,x,l,k,_,h,f,d,$,g,B,m,y,c,O,function(t){n(1,x=R([t.detail.module])),n(0,w[f].widgets=x,w),U(),j()},P,function(t){n(1,x=x.map((e=>(e.id===t.detail.module.id&&(e.name=t.detail.module.name,e.height=parseInt(t.detail.module.height,10),e.config=t.detail.module.config),e)))),M(),n(0,w[f].widgets=x,w),j()},function(t){n(1,x=x.filter((e=>{if(e.id!==t.detail.module.id)return e}))),M(),n(0,w[f].widgets=x,w),j()},M,D,U,V,H,W,F,J,X,Y,K,G,Z,b,()=>{U()},()=>{M()},t=>{F()},t=>{J()},t=>{X()},t=>{K()},t=>{G()},()=>{D()},t=>{H(t.detail.name)},t=>{W()},function(t,e,o){q[t?"unshift":"push"]((()=>{e[o].this=t,n(0,w)}))},t=>{O(t)},function(t,e,o){q[t?"unshift":"push"]((()=>{e[o].this=t,n(0,w)}))},()=>{V()},t=>{P(t)},t=>{t.preventDefault(),Y(t.detail)},t=>{Z(t.detail)},function(t){q[t?"unshift":"push"]((()=>{y=t,n(12,y)}))}]}class fr extends nt{constructor(t){super(),et(this,t,hr,ur,l,{oldState:32},null,[-1,-1,-1])}}function dr(t){let e,n,o,r,i;return{c(){e=m("div"),n=m("button"),o=y("Close"),x(n,"id","closeButton"),x(n,"type","button"),C(n,"background-color",t[4].appBackground),C(n,"color",t[4].textcolor),C(n,"font-size",t[4].fontSize),x(n,"class","svelte-1supyga"),x(e,"id","buttonRow"),x(e,"class","svelte-1supyga")},m(s,a){f(s,e,a),h(e,n),h(n,o),r||(i=w(n,"click",t[6]),r=!0)},p(t,e){16&e&&C(n,"background-color",t[4].appBackground),16&e&&C(n,"color",t[4].textcolor),16&e&&C(n,"font-size",t[4].fontSize)},d(t){t&&d(e),r=!1,i()}}}function gr(t){let e,n,o,r,i,s,a=t[0].html+"";e=new Jn({});let c=t[0].config.showButton&&dr(t);return{c(){Z(e.$$.fragment),n=v(),o=m("div"),r=new S,i=v(),c&&c.c(),r.a=i,x(o,"id","webview"),C(o,"background-color",t[0].config.backgroundColor),C(o,"color",t[4].textcolor),C(o,"font-family",t[4].fontFamily),C(o,"font-size",t[4].fontSize),C(o,"width",t[2]+"px"),C(o,"height",t[3]+"px"),x(o,"class","svelte-1supyga")},m(l,u){Q(e,l,u),f(l,n,u),f(l,o,u),r.m(a,o),h(o,i),c&&c.m(o,null),t[7](o),s=!0},p(t,[e]){(!s||1&e)&&a!==(a=t[0].html+"")&&r.p(a),t[0].config.showButton?c?c.p(t,e):(c=dr(t),c.c(),c.m(o,null)):c&&(c.d(1),c=null),(!s||1&e)&&C(o,"background-color",t[0].config.backgroundColor),(!s||16&e)&&C(o,"color",t[4].textcolor),(!s||16&e)&&C(o,"font-family",t[4].fontFamily),(!s||16&e)&&C(o,"font-size",t[4].fontSize),(!s||4&e)&&C(o,"width",t[2]+"px"),(!s||8&e)&&C(o,"height",t[3]+"px")},i(t){s||(K(e.$$.fragment,t),s=!0)},o(t){G(e.$$.fragment,t),s=!1},d(r){tt(e,r),r&&d(n),r&&d(o),c&&c.d(),t[7](null)}}}function mr(t,e,n){let o,r,i;u(t,Vn,(t=>n(8,o=t))),u(t,Hn,(t=>n(9,r=t))),u(t,Bn,(t=>n(4,i=t)));let s,a,c,{body:l}=e;const h=L();function f(t){l.config.changeColor&&(t.style.backgroundColor=l.config.highlightColor)}function d(t){l.config.changeColor&&(t.style.backgroundColor=l.config.backgroundColor)}function g(){h("changeView",{name:"scriptbar",body:{}})}async function m(){await z(),console.log(l),void 0!==l.config.width?(n(2,a=l.config.width),n(3,c=l.config.height+50),p(Vn,o=Math.floor(a/2),o),p(Hn,r=a,r)):void 0!==s&&(n(2,a=s.clientWidth+10),n(3,c=s.clientHeight+40),a<100&&n(2,a=400),c<40&&n(3,c=40),p(Hn,r=a,r),window.resizeTo(a+20,c),p(Vn,o=Math.floor(a/2),o))}T((()=>{globalThis.closeWebView=g,m(),window.setLineColor=d,window.setLineColorNew=f}));return t.$$set=t=>{"body"in t&&n(0,l=t.body)},t.$$.update=()=>{1&t.$$.dirty&&p(Hn,(m(),r=r),r)},[l,s,a,c,i,g,()=>{g()},function(t){q[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}class yr extends nt{constructor(t){super(),et(this,t,mr,gr,l,{body:0})}}function vr(t){let e,n,o,i,s,a,c,l,u,p;return{c(){e=m("div"),n=m("h1"),n.textContent="Something went wrong",o=v(),i=m("p"),i.textContent="Sorry, but you somehow got to a place that isn't reachable.",s=v(),a=m("p"),a.textContent="Press be button below to get back to the normal page.",c=v(),l=m("button"),l.textContent="Go Back",x(l,"class","svelte-swl4vm"),x(e,"id","errorPage"),x(e,"class","svelte-swl4vm")},m(r,d){f(r,e,d),h(e,n),h(e,o),h(e,i),h(e,s),h(e,a),h(e,c),h(e,l),u||(p=w(l,"click",t[6]),u=!0)},p:r,i:r,o:r,d(t){t&&d(e),u=!1,p()}}}function br(t){let e,n;return e=new yr({props:{body:t[1]}}),e.$on("changeView",t[5]),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.body=t[1]),e.$set(o)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function wr(t){let e,n;return e=new fr({props:{oldState:t[2]}}),e.$on("changeView",t[4]),{c(){Z(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.oldState=t[2]),e.$set(o)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function xr(t){let e,n,o,r,i,s;const c=[wr,br,vr],l=[];function u(t,e){return"scriptbar"===t[0]?0:"webview"===t[0]?1:2}return e=u(t),n=l[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){l[e].m(t,n),f(t,o,n),r=!0,i||(s=[w(window,"blur",kr),w(window,"close",_r)],i=!0)},p(t,[r]){let i=e;e=u(t),e===i?l[e].p(t,r):(X(),G(l[i],1,1,(()=>{l[i]=null})),Y(),n=l[e],n?n.p(t,r):(n=l[e]=c[e](t),n.c()),K(n,1),n.m(o.parentNode,o))},i(t){r||(K(n),r=!0)},o(t){G(n),r=!1},d(t){l[e].d(t),t&&d(o),i=!1,a(s)}}}const kr=()=>{},_r=()=>{};function Cr(t,e,n){let o,r="scriptbar",i={html:"<h1>Web View</h1>",config:{width:200,height:400}};function s(t){void 0!==t.scriptbar&&n(2,o=t.scriptbar),n(0,r=t.name),n(1,i=t.body)}return[r,i,o,s,t=>{s(t.detail)},t=>{s(t.detail)},()=>{n(0,r="scriptbar")}]}class $r extends nt{constructor(t){super(),et(this,t,Cr,xr,l,{})}}var Br;return o.Init((()=>{Br=new $r({target:document.body,props:{}})})),globalThis.appScriptBar=Br,Br}();
//# sourceMappingURL=bundle.js.map
